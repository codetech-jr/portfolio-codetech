var Gu=Object.defineProperty;var Zu=(t,e,u)=>e in t?Gu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):t[e]=u;var Et=(t,e,u)=>Zu(t,typeof e!="symbol"?e+"":e,u);import{r as S,j as a,d as ce,u as Mt,C as le,b as er,S as Ee,B as Oe,H as tr,c as ct,F as ge,o as Eu,e as gu,f as ur,g as rr,h as nr,i as yu,k as Me,v as Te,l as vu,n as Qt,p as ir,q as te,s as sr,t as ar,w as ue,x as it,y as tt,z as or,G as lr,A as cr,D as Dr,E as Kt,P as Yt,I as dr,J as Ye,T as ye,M as fr,K as pr,L as Cr,N as hr,O as Fr,Q as je,R as Ar,U as mr,V as Er,W as gr,X as yr,Y as Xt,Z as xu,_ as vr,$ as xr,a0 as Br,a1 as br,a2 as Sr,a3 as wr,a4 as gt,a5 as Bu,a6 as jr,a7 as bu,a8 as _r,a9 as Pr,aa as Su,ab as Or,ac as Rr,ad as Nr}from"./sanity-CwJfgd4d.js";import{R as zr,l as Ir,h as kr,a as $r,b as Mr,c as Tr,i as Lr,d as Vr,e as qr,f as Jr,g as Ur,s as wu,k as Hr,j as Wr,m as Qr,E as Kr,H as Yr,t as M,n as Xr,o as Gr}from"./index-5HJCVZje.js";import{javascriptLanguage as Zr}from"./index-CQ6LVDSd.js";import"./index-DqCOjsP9.js";var en=Object.defineProperty,Gt=Object.getOwnPropertySymbols,tn=Object.prototype.hasOwnProperty,un=Object.prototype.propertyIsEnumerable,Zt=(t,e,u)=>e in t?en(t,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):t[e]=u,eu=(t,e)=>{for(var u in e||(e={}))tn.call(e,u)&&Zt(t,u,e[u]);if(Gt)for(var u of Gt(e))un.call(e,u)&&Zt(t,u,e[u]);return t};const tu=function(t){const{children:e,className:u,split:r,style:c,size:i,eleRef:o}=t;let n={flex:1,position:"relative",outline:"none"};i!==void 0&&(r==="vertical"?n.width=i:(n.height=i,n.display="flex"),n.flex="none"),n=eu(eu({},n),c);const s=["Pane",r,u].filter(Boolean).join(" ");return a.jsx("div",{role:"region",ref:o,className:s,style:n,children:e})},Ot="Resizer",rn=function(t){const{className:e=Ot,onClick:u,onDoubleClick:r,onMouseDown:c,onTouchEnd:i,onTouchStart:o,resizerClassName:n,split:s,style:f}=t,h=[n,s,e].filter(Boolean).join(" ");return a.jsx("span",{role:"separator",className:h,style:f,onMouseDown:d=>c(d.nativeEvent),onTouchStart:d=>{d.preventDefault(),o(d.nativeEvent)},onTouchEnd:d=>{d.preventDefault(),i(d.nativeEvent)},onClick:d=>{u&&(d.preventDefault(),u(d.nativeEvent))},onDoubleClick:d=>{r&&(d.preventDefault(),r(d.nativeEvent))}})};var nn=Object.defineProperty,sn=Object.defineProperties,an=Object.getOwnPropertyDescriptors,uu=Object.getOwnPropertySymbols,on=Object.prototype.hasOwnProperty,ln=Object.prototype.propertyIsEnumerable,Rt=(t,e,u)=>e in t?nn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):t[e]=u,ve=(t,e)=>{for(var u in e||(e={}))on.call(e,u)&&Rt(t,u,e[u]);if(uu)for(var u of uu(e))ln.call(e,u)&&Rt(t,u,e[u]);return t},st=(t,e)=>sn(t,an(e)),nt=(t,e,u)=>Rt(t,typeof e!="symbol"?e+"":e,u);const ju={display:"flex",flex:1,height:"100%",position:"absolute",outline:"none",overflow:"hidden",MozUserSelect:"text",WebkitUserSelect:"text",msUserSelect:"text",userSelect:"text"},cn=st(ve({},ju),{flexDirection:"row",left:0,right:0}),Dn=st(ve({},ju),{bottom:0,flexDirection:"column",minHeight:"100%",top:0,width:"100%"}),yt={},_u=class Xe extends S.Component{constructor(e){super(e),nt(this,"pane1",null),nt(this,"pane2",null),nt(this,"splitPane",null),this.onMouseDown=this.onMouseDown.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this);const{size:u,defaultSize:r,minSize:c,maxSize:i,primary:o}=e,n=u!==void 0?u:nu(r,c,i,void 0);this.state={active:!1,resized:!1,pane1Size:o==="first"?n:void 0,pane2Size:o==="second"?n:void 0,instanceProps:{size:u}}}componentDidMount(){document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove),this.setState(Xe.getSizeUpdate(this.props,this.state))}static getDerivedStateFromProps(e,u){return Xe.getSizeUpdate(e,u)}componentWillUnmount(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}onMouseDown(e){this.onTouchStart(st(ve({},e),{touches:[{clientX:e.clientX,clientY:e.clientY}]}))}onTouchStart(e){const{allowResize:u,onDragStarted:r,split:c}=this.props;if(u){ru(document,window);const i=c==="vertical"?e.touches[0].clientX:e.touches[0].clientY;typeof r=="function"&&r(),this.setState({active:!0,position:i})}}onMouseMove(e){const u=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchMove(u)}onTouchMove(e){if(!this.state.active||!this.props.allowResize)return;const{position:u=0}=this.state,{maxSize:r,minSize:c=Xe.defaultProps.minSize,onChange:i,split:o=Xe.defaultProps.split,step:n}=this.props;ru(document,window);const s=this.props.primary==="first",f=s?this.pane1:this.pane2,h=s?this.pane2:this.pane1;if(!f||!h||!f.getBoundingClientRect)return;const d=f,b=h,E=d.getBoundingClientRect().width,g=d.getBoundingClientRect().height,l=o==="vertical"?e.touches[0].clientX:e.touches[0].clientY,x=o==="vertical"?E:g;let p=u-l;if(n){if(Math.abs(p)<n)return;p=~~(p/n)*n}let y=s?p:-p;const P=parseInt(window.getComputedStyle(d).order),_=parseInt(window.getComputedStyle(b).order);P>_&&(y=-y);let w=r;this.splitPane&&r!==void 0&&r<=0&&(o==="vertical"?w=this.splitPane.getBoundingClientRect().width+r:w=this.splitPane.getBoundingClientRect().height+r);let R=x-y;const k=u-p;c&&R<c?R=c:w!==void 0&&R>w?R=w:this.setState({position:k,resized:!0}),i&&i(R);const q=s?{pane1Size:R,pane2Size:void 0}:{pane2Size:R,pane1Size:void 0};this.setState(ve({draggedSize:R},q))}onMouseUp(){if(!this.state.active||!this.props.allowResize)return;const{onDragFinished:e}=this.props,{draggedSize:u}=this.state;typeof u<"u"&&typeof e=="function"&&e(u),this.setState({active:!1})}static getSizeUpdate(e,u){const{instanceProps:r}=u;if(r.size===e.size&&e.size!==void 0)return{};const c=e.size!==void 0?e.size:nu(e.defaultSize,e.minSize,e.maxSize,u.draggedSize),i=e.primary==="first"?{pane1Size:c,pane2Size:void 0}:{pane2Size:c,pane1Size:void 0};return st(ve(ve({},i),typeof e.size>"u"?{}:{draggedSize:c}),{instanceProps:{size:e.size}})}render(){const{allowResize:e,children:u,className:r,onResizerClick:c,onResizerDoubleClick:i,paneClassName:o,pane1ClassName:n,pane2ClassName:s,paneStyle:f,pane1Style:h,pane2Style:d,resizerClassName:b=Ot,resizerStyle:E,split:g,style:l}=this.props,{pane1Size:x,pane2Size:p}=this.state,y=e?"":"disabled",P=b&&`${b} ${Ot}`,_=dn(u),w=g==="vertical"?cn:Dn,R=l?ve(ve({},w),l):w,k=["SplitPane",r,g,y].filter(Boolean).join(" "),q=iu(ve(ve({},f),h),yt),A=iu(ve(ve({},f),d),yt),D=["Pane1",o,n].join(" "),v=["Pane2",o,s].join(" ");return a.jsxs("div",{"data-testid":"split-pane",className:k,style:R,ref:B=>{this.splitPane=B},children:[a.jsx(tu,{className:D,eleRef:B=>{this.pane1=B},size:x,split:g,style:q,children:_[0]},"pane1"),a.jsx(rn,{className:y,onClick:c,onDoubleClick:i,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,resizerClassName:P,split:g||"vertical",style:E||yt},"resizer"),a.jsx(tu,{className:v,eleRef:B=>{this.pane2=B},size:p,split:g,style:A,children:_[1]},"pane2")]})}};nt(_u,"defaultProps",{allowResize:!0,minSize:50,primary:"first",split:"vertical",paneClassName:"",pane1ClassName:"",pane2ClassName:""});let vt=_u;function ru(t,e){var u;if("selection"in t&&typeof t.selection=="object"&&t.selection&&"empty"in t.selection&&typeof t.selection.empty=="function")try{t.selection.empty()}catch{}else if(typeof e<"u"&&typeof e.getSelection=="function")try{(u=e.getSelection())==null||u.removeAllRanges()}catch{}}function nu(t,e,u,r){if(typeof r=="number"){const c=typeof e=="number"?e:0,i=typeof u=="number"&&u>=0?u:1/0;return Math.max(c,Math.min(i,r))}return t!==void 0?t:e}function dn(t){return S.Children.toArray(t).filter(e=>e)}function fn(t){return t===null||typeof t>"u"||Object.keys(t).length===0}function iu(t,e){return fn(t)?e:t}var pn=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,Cn=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,hn=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,xt={Space_Separator:pn,ID_Start:Cn,ID_Continue:hn},ae={isSpaceSeparator(t){return typeof t=="string"&&xt.Space_Separator.test(t)},isIdStartChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="$"||t==="_"||xt.ID_Start.test(t))},isIdContinueChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="$"||t==="_"||t==="‌"||t==="‍"||xt.ID_Continue.test(t))},isDigit(t){return typeof t=="string"&&/[0-9]/.test(t)},isHexDigit(t){return typeof t=="string"&&/[0-9A-Fa-f]/.test(t)}};let Nt,he,Ie,at,qe,_e,fe,Tt,Ze;var Fn=function(e,u){Nt=String(e),he="start",Ie=[],at=0,qe=1,_e=0,fe=void 0,Tt=void 0,Ze=void 0;do fe=An(),gn[he]();while(fe.type!=="eof");return typeof u=="function"?zt({"":Ze},"",u):Ze};function zt(t,e,u){const r=t[e];if(r!=null&&typeof r=="object")if(Array.isArray(r))for(let c=0;c<r.length;c++){const i=String(c),o=zt(r,i,u);o===void 0?delete r[i]:Object.defineProperty(r,i,{value:o,writable:!0,enumerable:!0,configurable:!0})}else for(const c in r){const i=zt(r,c,u);i===void 0?delete r[c]:Object.defineProperty(r,c,{value:i,writable:!0,enumerable:!0,configurable:!0})}return u.call(t,e,r)}let Q,U,Ge,ze,G;function An(){for(Q="default",U="",Ge=!1,ze=1;;){G=$e();const t=Pu[Q]();if(t)return t}}function $e(){if(Nt[at])return String.fromCodePoint(Nt.codePointAt(at))}function m(){const t=$e();return t===`
`?(qe++,_e=0):t?_e+=t.length:_e++,t&&(at+=t.length),t}const Pu={default(){switch(G){case"	":case"\v":case"\f":case" ":case" ":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":m();return;case"/":m(),Q="comment";return;case void 0:return m(),ne("eof")}if(ae.isSpaceSeparator(G)){m();return}return Pu[he]()},comment(){switch(G){case"*":m(),Q="multiLineComment";return;case"/":m(),Q="singleLineComment";return}throw ie(m())},multiLineComment(){switch(G){case"*":m(),Q="multiLineCommentAsterisk";return;case void 0:throw ie(m())}m()},multiLineCommentAsterisk(){switch(G){case"*":m();return;case"/":m(),Q="default";return;case void 0:throw ie(m())}m(),Q="multiLineComment"},singleLineComment(){switch(G){case`
`:case"\r":case"\u2028":case"\u2029":m(),Q="default";return;case void 0:return m(),ne("eof")}m()},value(){switch(G){case"{":case"[":return ne("punctuator",m());case"n":return m(),Je("ull"),ne("null",null);case"t":return m(),Je("rue"),ne("boolean",!0);case"f":return m(),Je("alse"),ne("boolean",!1);case"-":case"+":m()==="-"&&(ze=-1),Q="sign";return;case".":U=m(),Q="decimalPointLeading";return;case"0":U=m(),Q="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":U=m(),Q="decimalInteger";return;case"I":return m(),Je("nfinity"),ne("numeric",1/0);case"N":return m(),Je("aN"),ne("numeric",NaN);case'"':case"'":Ge=m()==='"',U="",Q="string";return}throw ie(m())},identifierNameStartEscape(){if(G!=="u")throw ie(m());m();const t=It();switch(t){case"$":case"_":break;default:if(!ae.isIdStartChar(t))throw su();break}U+=t,Q="identifierName"},identifierName(){switch(G){case"$":case"_":case"‌":case"‍":U+=m();return;case"\\":m(),Q="identifierNameEscape";return}if(ae.isIdContinueChar(G)){U+=m();return}return ne("identifier",U)},identifierNameEscape(){if(G!=="u")throw ie(m());m();const t=It();switch(t){case"$":case"_":case"‌":case"‍":break;default:if(!ae.isIdContinueChar(t))throw su();break}U+=t,Q="identifierName"},sign(){switch(G){case".":U=m(),Q="decimalPointLeading";return;case"0":U=m(),Q="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":U=m(),Q="decimalInteger";return;case"I":return m(),Je("nfinity"),ne("numeric",ze*(1/0));case"N":return m(),Je("aN"),ne("numeric",NaN)}throw ie(m())},zero(){switch(G){case".":U+=m(),Q="decimalPoint";return;case"e":case"E":U+=m(),Q="decimalExponent";return;case"x":case"X":U+=m(),Q="hexadecimal";return}return ne("numeric",ze*0)},decimalInteger(){switch(G){case".":U+=m(),Q="decimalPoint";return;case"e":case"E":U+=m(),Q="decimalExponent";return}if(ae.isDigit(G)){U+=m();return}return ne("numeric",ze*Number(U))},decimalPointLeading(){if(ae.isDigit(G)){U+=m(),Q="decimalFraction";return}throw ie(m())},decimalPoint(){switch(G){case"e":case"E":U+=m(),Q="decimalExponent";return}if(ae.isDigit(G)){U+=m(),Q="decimalFraction";return}return ne("numeric",ze*Number(U))},decimalFraction(){switch(G){case"e":case"E":U+=m(),Q="decimalExponent";return}if(ae.isDigit(G)){U+=m();return}return ne("numeric",ze*Number(U))},decimalExponent(){switch(G){case"+":case"-":U+=m(),Q="decimalExponentSign";return}if(ae.isDigit(G)){U+=m(),Q="decimalExponentInteger";return}throw ie(m())},decimalExponentSign(){if(ae.isDigit(G)){U+=m(),Q="decimalExponentInteger";return}throw ie(m())},decimalExponentInteger(){if(ae.isDigit(G)){U+=m();return}return ne("numeric",ze*Number(U))},hexadecimal(){if(ae.isHexDigit(G)){U+=m(),Q="hexadecimalInteger";return}throw ie(m())},hexadecimalInteger(){if(ae.isHexDigit(G)){U+=m();return}return ne("numeric",ze*Number(U))},string(){switch(G){case"\\":m(),U+=mn();return;case'"':if(Ge)return m(),ne("string",U);U+=m();return;case"'":if(!Ge)return m(),ne("string",U);U+=m();return;case`
`:case"\r":throw ie(m());case"\u2028":case"\u2029":yn(G);break;case void 0:throw ie(m())}U+=m()},start(){switch(G){case"{":case"[":return ne("punctuator",m())}Q="value"},beforePropertyName(){switch(G){case"$":case"_":U=m(),Q="identifierName";return;case"\\":m(),Q="identifierNameStartEscape";return;case"}":return ne("punctuator",m());case'"':case"'":Ge=m()==='"',Q="string";return}if(ae.isIdStartChar(G)){U+=m(),Q="identifierName";return}throw ie(m())},afterPropertyName(){if(G===":")return ne("punctuator",m());throw ie(m())},beforePropertyValue(){Q="value"},afterPropertyValue(){switch(G){case",":case"}":return ne("punctuator",m())}throw ie(m())},beforeArrayValue(){if(G==="]")return ne("punctuator",m());Q="value"},afterArrayValue(){switch(G){case",":case"]":return ne("punctuator",m())}throw ie(m())},end(){throw ie(m())}};function ne(t,e){return{type:t,value:e,line:qe,column:_e}}function Je(t){for(const e of t){if($e()!==e)throw ie(m());m()}}function mn(){switch($e()){case"b":return m(),"\b";case"f":return m(),"\f";case"n":return m(),`
`;case"r":return m(),"\r";case"t":return m(),"	";case"v":return m(),"\v";case"0":if(m(),ae.isDigit($e()))throw ie(m());return"\0";case"x":return m(),En();case"u":return m(),It();case`
`:case"\u2028":case"\u2029":return m(),"";case"\r":return m(),$e()===`
`&&m(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw ie(m());case void 0:throw ie(m())}return m()}function En(){let t="",e=$e();if(!ae.isHexDigit(e)||(t+=m(),e=$e(),!ae.isHexDigit(e)))throw ie(m());return t+=m(),String.fromCodePoint(parseInt(t,16))}function It(){let t="",e=4;for(;e-- >0;){const u=$e();if(!ae.isHexDigit(u))throw ie(m());t+=m()}return String.fromCodePoint(parseInt(t,16))}const gn={start(){if(fe.type==="eof")throw Ue();Bt()},beforePropertyName(){switch(fe.type){case"identifier":case"string":Tt=fe.value,he="afterPropertyName";return;case"punctuator":ut();return;case"eof":throw Ue()}},afterPropertyName(){if(fe.type==="eof")throw Ue();he="beforePropertyValue"},beforePropertyValue(){if(fe.type==="eof")throw Ue();Bt()},beforeArrayValue(){if(fe.type==="eof")throw Ue();if(fe.type==="punctuator"&&fe.value==="]"){ut();return}Bt()},afterPropertyValue(){if(fe.type==="eof")throw Ue();switch(fe.value){case",":he="beforePropertyName";return;case"}":ut()}},afterArrayValue(){if(fe.type==="eof")throw Ue();switch(fe.value){case",":he="beforeArrayValue";return;case"]":ut()}},end(){}};function Bt(){let t;switch(fe.type){case"punctuator":switch(fe.value){case"{":t={};break;case"[":t=[];break}break;case"null":case"boolean":case"numeric":case"string":t=fe.value;break}if(Ze===void 0)Ze=t;else{const e=Ie[Ie.length-1];Array.isArray(e)?e.push(t):Object.defineProperty(e,Tt,{value:t,writable:!0,enumerable:!0,configurable:!0})}if(t!==null&&typeof t=="object")Ie.push(t),Array.isArray(t)?he="beforeArrayValue":he="beforePropertyName";else{const e=Ie[Ie.length-1];e==null?he="end":Array.isArray(e)?he="afterArrayValue":he="afterPropertyValue"}}function ut(){Ie.pop();const t=Ie[Ie.length-1];t==null?he="end":Array.isArray(t)?he="afterArrayValue":he="afterPropertyValue"}function ie(t){return ot(t===void 0?`JSON5: invalid end of input at ${qe}:${_e}`:`JSON5: invalid character '${Ou(t)}' at ${qe}:${_e}`)}function Ue(){return ot(`JSON5: invalid end of input at ${qe}:${_e}`)}function su(){return _e-=5,ot(`JSON5: invalid identifier character at ${qe}:${_e}`)}function yn(t){console.warn(`JSON5: '${Ou(t)}' in strings is not valid ECMAScript; consider escaping`)}function Ou(t){const e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[t])return e[t];if(t<" "){const u=t.charCodeAt(0).toString(16);return"\\x"+("00"+u).substring(u.length)}return t}function ot(t){const e=new SyntaxError(t);return e.lineNumber=qe,e.columnNumber=_e,e}var vn=function(e,u,r){const c=[];let i="",o,n,s="",f;if(u!=null&&typeof u=="object"&&!Array.isArray(u)&&(r=u.space,f=u.quote,u=u.replacer),typeof u=="function")n=u;else if(Array.isArray(u)){o=[];for(const l of u){let x;typeof l=="string"?x=l:(typeof l=="number"||l instanceof String||l instanceof Number)&&(x=String(l)),x!==void 0&&o.indexOf(x)<0&&o.push(x)}}return r instanceof Number?r=Number(r):r instanceof String&&(r=String(r)),typeof r=="number"?r>0&&(r=Math.min(10,Math.floor(r)),s="          ".substr(0,r)):typeof r=="string"&&(s=r.substr(0,10)),h("",{"":e});function h(l,x){let p=x[l];switch(p!=null&&(typeof p.toJSON5=="function"?p=p.toJSON5(l):typeof p.toJSON=="function"&&(p=p.toJSON(l))),n&&(p=n.call(x,l,p)),p instanceof Number?p=Number(p):p instanceof String?p=String(p):p instanceof Boolean&&(p=p.valueOf()),p){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof p=="string")return d(p);if(typeof p=="number")return String(p);if(typeof p=="object")return Array.isArray(p)?g(p):b(p)}function d(l){const x={"'":.1,'"':.2},p={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let y="";for(let _=0;_<l.length;_++){const w=l[_];switch(w){case"'":case'"':x[w]++,y+=w;continue;case"\0":if(ae.isDigit(l[_+1])){y+="\\x00";continue}}if(p[w]){y+=p[w];continue}if(w<" "){let R=w.charCodeAt(0).toString(16);y+="\\x"+("00"+R).substring(R.length);continue}y+=w}const P=f||Object.keys(x).reduce((_,w)=>x[_]<x[w]?_:w);return y=y.replace(new RegExp(P,"g"),p[P]),P+y+P}function b(l){if(c.indexOf(l)>=0)throw TypeError("Converting circular structure to JSON5");c.push(l);let x=i;i=i+s;let p=o||Object.keys(l),y=[];for(const _ of p){const w=h(_,l);if(w!==void 0){let R=E(_)+":";s!==""&&(R+=" "),R+=w,y.push(R)}}let P;if(y.length===0)P="{}";else{let _;if(s==="")_=y.join(","),P="{"+_+"}";else{let w=`,
`+i;_=y.join(w),P=`{
`+i+_+`,
`+x+"}"}}return c.pop(),i=x,P}function E(l){if(l.length===0)return d(l);const x=String.fromCodePoint(l.codePointAt(0));if(!ae.isIdStartChar(x))return d(l);for(let p=x.length;p<l.length;p++)if(!ae.isIdContinueChar(String.fromCodePoint(l.codePointAt(p))))return d(l);return l}function g(l){if(c.indexOf(l)>=0)throw TypeError("Converting circular structure to JSON5");c.push(l);let x=i;i=i+s;let p=[];for(let P=0;P<l.length;P++){const _=h(String(P),l);p.push(_!==void 0?_:"null")}let y;if(p.length===0)y="[]";else if(s==="")y="["+p.join(",")+"]";else{let P=`,
`+i,_=p.join(P);y=`[
`+i+_+`,
`+x+"]"}return c.pop(),i=x,y}};const xn={parse:Fn,stringify:vn};var Bn=xn,He={},Be={},au;function Dt(){return au||(au=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.excelBOM=Be.defaultCsv2JsonOptions=Be.defaultJson2CsvOptions=Be.errors=void 0,Be.errors={optionsRequired:"Options were not passed and are required.",json2csv:{cannotCallOn:"Cannot call json2csv on",dataCheckFailure:"Data provided was not an array of documents.",notSameSchema:"Not all documents have the same schema."},csv2json:{cannotCallOn:"Cannot call csv2json on",dataCheckFailure:"CSV is not a string."}},Be.defaultJson2CsvOptions={arrayIndexesAsKeys:!1,checkSchemaDifferences:!1,delimiter:{field:",",wrap:'"',eol:`
`},emptyFieldValue:void 0,escapeHeaderNestedDots:!0,excelBOM:!1,excludeKeys:[],expandNestedObjects:!0,expandArrayObjects:!1,prependHeader:!0,preventCsvInjection:!1,sortHeader:!1,trimFieldValues:!1,trimHeaderFields:!1,unwindArrays:!1,useDateIso8601Format:!1,useLocaleFormat:!1,wrapBooleans:!1},Be.defaultCsv2JsonOptions={delimiter:{field:",",wrap:'"',eol:`
`},excelBOM:!1,preventCsvInjection:!1,trimFieldValues:!1,trimHeaderFields:!1},Be.excelBOM="\uFEFF"),Be}var be={},We={};/**
 * @license MIT
 * doc-path <https://github.com/mrodrig/doc-path>
 * Copyright (c) 2015-present, Michael Rodrigues.
 */var ou;function Lt(){if(ou)return We;ou=1,Object.defineProperty(We,"__esModule",{value:!0}),We.setPath=We.evaluatePath=void 0;function t(i,o){if(!i)return null;const{dotIndex:n,key:s,remaining:f}=r(o),h=typeof i=="object"&&o in i?i[o]:void 0,d=typeof i=="object"&&s in i?i[s]:void 0;if(n>=0&&typeof i=="object"&&!(o in i)){const{key:b}=r(f),E=parseInt(b);return Array.isArray(d)&&isNaN(E)?d.map(g=>t(g,f)):t(d,f)}else if(Array.isArray(i)){const b=parseInt(s);return o===s&&n===-1&&!isNaN(b)?d:i.map(E=>t(E,o))}else{if(n>=0&&o!==s&&typeof i=="object"&&s in i)return t(d,f);if(n===-1&&typeof i=="object"&&s in i&&!(o in i))return d}return h}We.evaluatePath=t;function e(i,o,n){if(i){if(!o)throw new Error("No keyPath was provided.")}else throw new Error("No object was provided.");return u(i,o,n)}We.setPath=e;function u(i,o,n){const{dotIndex:s,key:f,remaining:h}=r(o);if(o.startsWith("__proto__")||o.startsWith("constructor")||o.startsWith("prototype"))return i;if(s>=0){const d=parseInt(f);if(typeof i=="object"&&i!==null&&!(f in i)&&Array.isArray(i)&&!isNaN(d))return i[f]=i[f]??{},u(i[f],h,n),i;if(typeof i=="object"&&i!==null&&!(f in i)&&Array.isArray(i))return i.forEach(b=>u(b,o,n)),i;if(typeof i=="object"&&i!==null&&!(f in i)&&!Array.isArray(i)){const{key:b}=r(h),E=parseInt(b);if(!isNaN(E))i[f]=[];else{if(h==="")return i[o]=n,i;i[f]={}}}u(i[f],h,n)}else if(Array.isArray(i)){const d=parseInt(f);return o===f&&s===-1&&!isNaN(d)?(i[f]=n,i):(i.forEach(b=>u(b,h,n)),i)}else i[f]=n;return i}function r(i){const o=c(i);return{dotIndex:o,key:i.slice(0,o>=0?o:void 0).replace(/\\./g,"."),remaining:i.slice(o+1)}}function c(i){for(let o=0;o<i.length;o++){const n=o>0?i[o-1]:"";if(i[o]==="."&&n!=="\\")return o}return-1}return We}var Se={},Ne={},lu;function bn(){if(lu)return Ne;lu=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.isDocumentToRecurOn=Ne.flatten=Ne.unique=void 0;function t(r){return[...new Set(r)]}Ne.unique=t;function e(r){return[].concat(...r)}Ne.flatten=e;function u(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)&&Object.keys(r).length}return Ne.isDocumentToRecurOn=u,Ne}var bt={},cu;function Sn(){return cu||(cu=1,Object.defineProperty(bt,"__esModule",{value:!0})),bt}var Du;function wn(){return Du||(Du=1,function(t){var e=Se&&Se.__createBinding||(Object.create?function(E,g,l,x){x===void 0&&(x=l);var p=Object.getOwnPropertyDescriptor(g,l);(!p||("get"in p?!g.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return g[l]}}),Object.defineProperty(E,x,p)}:function(E,g,l,x){x===void 0&&(x=l),E[x]=g[l]}),u=Se&&Se.__setModuleDefault||(Object.create?function(E,g){Object.defineProperty(E,"default",{enumerable:!0,value:g})}:function(E,g){E.default=g}),r=Se&&Se.__importStar||function(E){if(E&&E.__esModule)return E;var g={};if(E!=null)for(var l in E)l!=="default"&&Object.prototype.hasOwnProperty.call(E,l)&&e(g,E,l);return u(g,E),g},c=Se&&Se.__exportStar||function(E,g){for(var l in E)l!=="default"&&!Object.prototype.hasOwnProperty.call(g,l)&&e(g,E,l)};Object.defineProperty(t,"__esModule",{value:!0}),t.deepKeysFromList=t.deepKeys=void 0;const i=r(bn());c(Sn(),t);function o(E,g){const l=b(g);return typeof E=="object"&&E!==null?s("",E,l):[]}t.deepKeys=o;function n(E,g){const l=b(g);return E.map(x=>typeof x=="object"&&x!==null?o(x,l):[])}t.deepKeysFromList=n;function s(E,g,l){const x=Object.keys(g).map(p=>{const y=d(E,h(p,l));return l.expandNestedObjects&&i.isDocumentToRecurOn(g[p])||l.arrayIndexesAsKeys&&Array.isArray(g[p])&&g[p].length?s(y,g[p],l):l.expandArrayObjects&&Array.isArray(g[p])?f(g[p],y,l):l.ignoreEmptyArrays&&Array.isArray(g[p])&&!g[p].length?[]:y});return i.flatten(x)}function f(E,g,l){let x=n(E,l);return E.length?E.length&&i.flatten(x).length===0?[g]:(x=x.map(p=>Array.isArray(p)&&p.length===0?[g]:p.map(y=>d(g,h(y,l)))),i.unique(i.flatten(x))):l.ignoreEmptyArraysWhenExpanding?[]:[g]}function h(E,g){return g.escapeNestedDots?E.replace(/\./g,"\\."):E}function d(E,g){return E?E+"."+g:g}function b(E){return{arrayIndexesAsKeys:!1,expandNestedObjects:!0,expandArrayObjects:!1,ignoreEmptyArraysWhenExpanding:!1,escapeNestedDots:!1,ignoreEmptyArrays:!1,...E??{}}}}(Se)),Se}var V={},du;function Vt(){if(du)return V;du=1,Object.defineProperty(V,"__esModule",{value:!0}),V.isInvalid=V.flatten=V.unique=V.arrayDifference=V.isError=V.isUndefined=V.isNull=V.isObject=V.isString=V.isNumber=V.unwind=V.getNCharacters=V.removeEmptyFields=V.isEmptyField=V.computeSchemaDifferences=V.isDateRepresentation=V.isStringRepresentation=V.deepCopy=V.validate=V.buildC2JOptions=V.buildJ2COptions=void 0;const t=Lt(),e=Dt(),u=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,r=1e5;function c(D){var v,B,F;return{...e.defaultJson2CsvOptions,...D,delimiter:{field:((v=D==null?void 0:D.delimiter)==null?void 0:v.field)??e.defaultJson2CsvOptions.delimiter.field,wrap:((B=D==null?void 0:D.delimiter)==null?void 0:B.wrap)||e.defaultJson2CsvOptions.delimiter.wrap,eol:((F=D==null?void 0:D.delimiter)==null?void 0:F.eol)||e.defaultJson2CsvOptions.delimiter.eol},fieldTitleMap:Object.create({})}}V.buildJ2COptions=c;function i(D){var v,B,F;return{...e.defaultCsv2JsonOptions,...D,delimiter:{field:((v=D==null?void 0:D.delimiter)==null?void 0:v.field)??e.defaultCsv2JsonOptions.delimiter.field,wrap:((B=D==null?void 0:D.delimiter)==null?void 0:B.wrap)||e.defaultCsv2JsonOptions.delimiter.wrap,eol:((F=D==null?void 0:D.delimiter)==null?void 0:F.eol)||e.defaultCsv2JsonOptions.delimiter.eol}}}V.buildC2JOptions=i;function o(D,v,B){if(!D)throw new Error(`${B.cannotCallOn} ${D}.`);if(!v(D))throw new Error(B.dataCheckFailure);return!0}V.validate=o;function n(D){return JSON.parse(JSON.stringify(D))}V.deepCopy=n;function s(D,v){const B=D[0],F=D.length-1,z=D[F];return B===v.delimiter.wrap&&z===v.delimiter.wrap}V.isStringRepresentation=s;function f(D){return u.test(D)}V.isDateRepresentation=f;function h(D,v){return R(D,v).concat(R(v,D))}V.computeSchemaDifferences=h;function d(D){return _(D)||P(D)||D===""}V.isEmptyField=d;function b(D){return D.filter(v=>!d(v))}V.removeEmptyFields=b;function E(D,v,B){return D.substring(v,v+B)}V.getNCharacters=E;function g(D,v,B){const F=(0,t.evaluatePath)(v,B);let z=n(v);Array.isArray(F)&&F.length?F.forEach(H=>{z=n(v),D.push((0,t.setPath)(z,B,H))}):(Array.isArray(F)&&F.length===0&&(0,t.setPath)(z,B,""),D.push(z))}function l(D,v){const B=[];return D.forEach(F=>{g(B,F,v)}),B}V.unwind=l;function x(D){return!isNaN(Number(D))}V.isNumber=x;function p(D){return typeof D=="string"}V.isString=p;function y(D){return typeof D=="object"}V.isObject=y;function P(D){return D===null}V.isNull=P;function _(D){return typeof D>"u"}V.isUndefined=_;function w(D){return Object.prototype.toString.call(D)==="[object Error]"}V.isError=w;function R(D,v){return D.filter(B=>!v.includes(B))}V.arrayDifference=R;function k(D){return[...new Set(D)]}V.unique=k;function q(D){if(D.flat)return D.flat();if(D.length>r){let v=[];for(let B=0;B<D.length;B+=r)v=v.concat(...D.slice(B,B+r));return v}return D.reduce((v,B)=>v.concat(B),[])}V.flatten=q;function A(D){return D===1/0||D===-1/0}return V.isInvalid=A,V}var fu;function jn(){if(fu)return be;fu=1;var t=be&&be.__createBinding||(Object.create?function(s,f,h,d){d===void 0&&(d=h);var b=Object.getOwnPropertyDescriptor(f,h);(!b||("get"in b?!f.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(s,d,b)}:function(s,f,h,d){d===void 0&&(d=h),s[d]=f[h]}),e=be&&be.__setModuleDefault||(Object.create?function(s,f){Object.defineProperty(s,"default",{enumerable:!0,value:f})}:function(s,f){s.default=f}),u=be&&be.__importStar||function(s){if(s&&s.__esModule)return s;var f={};if(s!=null)for(var h in s)h!=="default"&&Object.prototype.hasOwnProperty.call(s,h)&&t(f,s,h);return e(f,s),f};Object.defineProperty(be,"__esModule",{value:!0}),be.Json2Csv=void 0;const r=Lt(),c=wn(),i=Dt(),o=u(Vt()),n=function(s){const f=new RegExp(s.delimiter.wrap,"g"),h=/\r?\n|\r/,d=s.parseValue&&typeof s.parseValue=="function"?s.parseValue:null,b=s.expandArrayObjects&&!s.unwindArrays,E={arrayIndexesAsKeys:s.arrayIndexesAsKeys,expandNestedObjects:s.expandNestedObjects,expandArrayObjects:b,ignoreEmptyArraysWhenExpanding:b,escapeNestedDots:!0};function g(C){return(0,c.deepKeysFromList)(C,E)}function l(C){return C.length===0?[]:s.checkSchemaDifferences?x(C):o.unique(o.flatten(C))}function x(C){const N=C[0],$=C.slice(1);if(p(N,$))throw new Error(i.errors.json2csv.notSameSchema);return N}function p(C,N){return N.reduce(($,K)=>o.computeSchemaDifferences(C,K).length>0?$+1:$,0)}function y(C){return s.excludeKeys?C.filter(N=>{for(const $ of s.excludeKeys){const K=$ instanceof RegExp?$:new RegExp(`^${$}`);if($===N||N.match(K))return!1}return!0}):C}function P(C){return s.sortHeader&&typeof s.sortHeader=="function"?C.sort(s.sortHeader):s.sortHeader?C.sort():C}function _(C){return s.trimHeaderFields&&(C.headerFields=C.headerFields.map(N=>N.split(".").map($=>$.trim()).join("."))),C}function w(C){return s.prependHeader&&(C.headerFields=C.headerFields.map(function(N){return W(N)})),C}function R(C){const N=Object.keys(s.fieldTitleMap);return C.header=C.headerFields.map(function($){let K=$;return N.includes($)?K=s.fieldTitleMap[$]:s.escapeHeaderNestedDots||(K=K.replace(/\\\./g,".")),K}).join(s.delimiter.field),C}function k(){return s.keys?s.keys.map(C=>typeof C=="object"&&"field"in C?(s.fieldTitleMap[C.field]=C.title??C.field,C.field):C):[]}function q(){return s.keys?s.keys.flatMap(C=>typeof C=="string"?[]:C!=null&&C.wildcardMatch?C.field:[]):[]}function A(C){const N=q(),$=k(),K=g(C),L=l(K);if(s.keys){s.keys=$;const J=$.flatMap(Z=>{if(!N.includes(Z))return Z;const oe=[],pe=new RegExp(`^${Z}`);for(const Ce of L)(Z===Ce||Ce.match(pe))&&oe.push(Ce);return oe});if(!s.unwindArrays){const Z=y(J);return P(Z)}}const X=y(L);return P(X)}function D(C){for(const N of C.records)for(const $ of C.headerFields){const K=(0,r.evaluatePath)(N,$);if(Array.isArray(K))return!0}return!1}function v(C,N=!1){if(s.unwindArrays){if(C.headerFields.forEach($=>{C.records=o.unwind(C.records,$)}),C.headerFields=A(C.records),D(C))return v(C,N);if(!N)return v(C,!0);if(s.keys){const $=k();C.headerFields=y($)}return C}return C}function B(C){return C.recordString=C.records.map(N=>{const $=z(N,C.headerFields),K=$.map(L=>{L=T(L),L=ee(L);let X=d?d(L,H):H(L);return X=W(X),X});return O(K)}).join(s.delimiter.eol),C}function F(C){const N=o.removeEmptyFields(C);return!C.length||!N.length?s.emptyFieldValue||"":N.length===1?N[0]:C}function z(C,N){const $=[];return N.forEach(K=>{let L=(0,r.evaluatePath)(C,K);!o.isUndefined(s.emptyFieldValue)&&o.isEmptyField(L)?L=s.emptyFieldValue:s.expandArrayObjects&&Array.isArray(L)&&(L=F(L)),$.push(L)}),$}function H(C){const N=C instanceof Date;return C===null||Array.isArray(C)||typeof C=="object"&&!N?JSON.stringify(C):typeof C>"u"?"undefined":N&&s.useDateIso8601Format?C.toISOString():s.useLocaleFormat?C.toLocaleString():C.toString()}function T(C){return s.trimFieldValues?Array.isArray(C)?C.map(T):typeof C=="string"?C.trim():C:C}function ee(C){return s.preventCsvInjection?Array.isArray(C)?C.map(ee):typeof C=="string"&&!o.isNumber(C)?C.replace(/^[=+\-@\t\r]+/g,""):C:C}function W(C){const N=s.delimiter.wrap;return C.includes(s.delimiter.wrap)&&(C=C.replace(f,N+N)),(C.includes(s.delimiter.field)||C.includes(s.delimiter.wrap)||C.match(h)||s.wrapBooleans&&(C==="true"||C==="false"))&&(C=N+C+N),C}function O(C){return C.join(s.delimiter.field)}function re(C){const N=C.header,$=C.recordString;return(s.excelBOM?i.excelBOM:"")+(s.prependHeader?N+s.delimiter.eol:"")+$}function se(C){Array.isArray(C)||(C=[C]);const N={headerFields:A(C),records:C,header:"",recordString:""},$=v(N),K=B($),L=w(K),X=_(L),J=R(X);return re(J)}return{convert:se}};return be.Json2Csv=n,be}var we={},pu;function _n(){if(pu)return we;pu=1;var t=we&&we.__createBinding||(Object.create?function(n,s,f,h){h===void 0&&(h=f);var d=Object.getOwnPropertyDescriptor(s,f);(!d||("get"in d?!s.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return s[f]}}),Object.defineProperty(n,h,d)}:function(n,s,f,h){h===void 0&&(h=f),n[h]=s[f]}),e=we&&we.__setModuleDefault||(Object.create?function(n,s){Object.defineProperty(n,"default",{enumerable:!0,value:s})}:function(n,s){n.default=s}),u=we&&we.__importStar||function(n){if(n&&n.__esModule)return n;var s={};if(n!=null)for(var f in n)f!=="default"&&Object.prototype.hasOwnProperty.call(n,f)&&t(s,n,f);return e(s,n),s};Object.defineProperty(we,"__esModule",{value:!0}),we.Csv2Json=void 0;const r=Lt(),c=Dt(),i=u(Vt()),o=function(n){const s=new RegExp(n.delimiter.wrap+n.delimiter.wrap,"g"),f=new RegExp("^"+c.excelBOM),h=n.parseValue&&typeof n.parseValue=="function"?n.parseValue:JSON.parse;function d(A){return A=_(A),n.trimHeaderFields?A.split(".").map(D=>D.trim()).join("."):A}function b(A){let D=[];if(n.headerFields)D=n.headerFields.map((v,B)=>({value:d(v),index:B}));else if(D=A[0].map((B,F)=>({value:d(B),index:F})),n.keys){const B=n.keys;D=D.filter(F=>B.includes(F.value))}return{lines:A,headerFields:D,recordLines:[]}}function E(A){return n.excelBOM?A.replace(f,""):A}function g(A){const D=[],v=A.length-1,B=n.delimiter.eol.length,F={insideWrapDelimiter:!1,parsingValue:!0,justParsedDoubleQuote:!1,startIndex:0};let z=[],H,T,ee,W,O=0;for(;O<A.length;){if(H=A[O],T=O?A[O-1]:"",ee=O<v?A[O+1]:"",W=i.getNCharacters(A,O,B),(W===n.delimiter.eol&&!F.insideWrapDelimiter||O===v)&&T===n.delimiter.field)W===n.delimiter.eol&&F.startIndex===O||H===n.delimiter.field?z.push(""):z.push(A.substring(F.startIndex)),z.push(""),D.push(z),z=[],F.startIndex=O+B,F.parsingValue=!0,F.insideWrapDelimiter=ee===n.delimiter.wrap;else if(O===v&&H===n.delimiter.field){const re=A.substring(F.startIndex,O);z.push(re),z.push(""),D.push(z)}else if(O===v||W===n.delimiter.eol&&(!F.insideWrapDelimiter||F.insideWrapDelimiter&&T===n.delimiter.wrap&&!F.justParsedDoubleQuote)){const re=O!==v||T===n.delimiter.wrap?O:void 0;z.push(A.substring(F.startIndex,re)),D.push(z),z=[],F.startIndex=O+B,F.parsingValue=!0,F.insideWrapDelimiter=ee===n.delimiter.wrap}else if(H===n.delimiter.wrap&&T===n.delimiter.field&&!F.insideWrapDelimiter&&!F.parsingValue)F.startIndex=O,F.insideWrapDelimiter=!0,F.parsingValue=!0,i.getNCharacters(A,O+1,B)===n.delimiter.eol&&(O+=n.delimiter.eol.length+1);else if(T===n.delimiter.field&&H===n.delimiter.wrap&&ee===n.delimiter.eol)z.push(A.substring(F.startIndex,O-1)),F.startIndex=O,F.parsingValue=!0,F.insideWrapDelimiter=!0,F.justParsedDoubleQuote=!0,O+=1;else if((T!==n.delimiter.wrap||F.justParsedDoubleQuote&&T===n.delimiter.wrap)&&H===n.delimiter.wrap&&i.getNCharacters(A,O+1,B)===n.delimiter.eol)F.insideWrapDelimiter=!1,F.parsingValue=!1;else if(H===n.delimiter.wrap&&(O===0||i.getNCharacters(A,O-B,B)===n.delimiter.eol&&!F.insideWrapDelimiter))F.insideWrapDelimiter=!0,F.parsingValue=!0,F.startIndex=O;else if(H===n.delimiter.wrap&&ee===n.delimiter.field&&F.insideWrapDelimiter)z.push(A.substring(F.startIndex,O+1)),F.startIndex=O+2,F.insideWrapDelimiter=!1,F.parsingValue=!1;else if(H===n.delimiter.wrap&&T===n.delimiter.field&&!F.insideWrapDelimiter&&F.parsingValue)z.push(A.substring(F.startIndex,O-1)),F.insideWrapDelimiter=!0,F.parsingValue=!0,F.startIndex=O;else if(H===n.delimiter.wrap&&ee===n.delimiter.wrap&&O!==F.startIndex){O+=2,F.justParsedDoubleQuote=!0;continue}else H===n.delimiter.field&&T!==n.delimiter.wrap&&ee!==n.delimiter.wrap&&!F.insideWrapDelimiter&&F.parsingValue?(z.push(A.substring(F.startIndex,O)),F.startIndex=O+1):H===n.delimiter.field&&T===n.delimiter.wrap&&ee!==n.delimiter.wrap&&!F.parsingValue&&(F.insideWrapDelimiter=!1,F.parsingValue=!0,F.startIndex=O+1);O++,F.justParsedDoubleQuote=!1}return D}function l(A){return n.headerFields?A.recordLines=A.lines:A.recordLines=A.lines.splice(1),A}function x(A,D){const v=D[A.index];return p(v)}function p(A){const D=k(A);return!i.isError(D)&&!i.isInvalid(D)?D:A==="undefined"?void 0:A}function y(A){return n.trimFieldValues&&A!==null?A.trim():A}function P(A,D){return A.reduce((v,B)=>{const F=x(B,D);try{return(0,r.setPath)(v,B.value,F)}catch{return v}},{})}function _(A){const D=A[0],v=A.length-1,B=A[v];return D===n.delimiter.wrap&&B===n.delimiter.wrap?A.length<=2?"":A.substring(1,v):A}function w(A){return A.replace(s,n.delimiter.wrap)}function R(A){return A.recordLines.reduce((D,v)=>{v=v.map(F=>(F=_(F),F=w(F),F=y(F),F));const B=P(A.headerFields,v);return D.concat(B)},[])}function k(A){try{if(i.isStringRepresentation(A,n)&&!i.isDateRepresentation(A))return A;const D=h(A);return Array.isArray(D)?D.map(y):D}catch(D){return D}}function q(A){const D=E(A),v=g(D),B=b(v),F=l(B);return R(F)}return{convert:q}};return we.Csv2Json=o,we}var Cu;function Pn(){if(Cu)return He;Cu=1,Object.defineProperty(He,"__esModule",{value:!0}),He.csv2json=He.json2csv=void 0;const t=Dt(),e=jn(),u=_n(),r=Vt();function c(o,n){const s=(0,r.buildJ2COptions)(n??{});return(0,r.validate)(o,r.isObject,t.errors.json2csv),(0,e.Json2Csv)(s).convert(o)}He.json2csv=c;function i(o,n){const s=(0,r.buildC2JOptions)(n??{});return(0,r.validate)(o,r.isString,t.errors.csv2json),(0,u.Csv2Json)(s).convert(o)}return He.csv2json=i,He}var On=Pn();const et=["v1","vX","v2021-03-25","v2021-10-21","v2022-03-07","v2025-02-19",`v${new Date().toISOString().split("T")[0]}`],[Ru]=et.slice(-1);function Nu(t){const e=ce.c(5),[u,r]=S.useState(!1);let c,i;e[0]!==t.delay?(c=()=>{const n=setTimeout(()=>r(!0),t.delay||500);return()=>clearTimeout(n)},i=[t.delay],e[0]=t.delay,e[1]=c,e[2]=i):(c=e[1],i=e[2]),S.useEffect(c,i);let o;return e[3]!==u?(o=u?a.jsx(nr,{muted:!0,size:4}):null,e[3]=u,e[4]=o):o=e[4],o}const Rn=[[Zr],Ir(),kr(),$r(),Mr(),Tr(),Lr(),Vr(),qr(),Jr(),Ur(),wu(Xr,{fallback:!0}),Hr.of([{key:"Mod-Enter",run:()=>!0},Wr,Qr].flat().filter(Boolean))];function Nn(t){const e=ce.c(7);let u,r;e[0]!==t?(r=zn(t),e[0]=t,e[1]=r):r=e[1],u=r;const c=u;let i,o;e[2]!==t?(o=wu(In(t)),e[2]=t,e[3]=o):o=e[3],i=o;const n=i;let s;return e[4]!==n||e[5]!==c?(s=[c,n],e[4]=n,e[5]=c,e[6]=s):s=e[6],s}function zn(t){const{color:e,fonts:u}=t.sanity,r=e.card.enabled,c=Xt.blue[e.dark?400:500].hex,i=Xt.gray[t.sanity.color.dark?900:100].hex;return Kr.theme({"&":{color:r.fg,backgroundColor:r.bg},".cm-content":{caretColor:c},".cm-editor":{fontFamily:u.code.family,fontSize:je(u.code.sizes[1].fontSize),lineHeight:"inherit"},".cm-cursor, .cm-dropCursor":{borderLeftColor:c},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:i},".cm-panels":{backgroundColor:r.bg,color:r.fg},".cm-panels.cm-panels-top":{borderBottom:`2px solid ${r.border}`},".cm-panels.cm-panels-bottom":{borderTop:`2px solid ${r.border}`}},{dark:e.dark})}function In(t){const e=t.sanity.color.base,u=t.sanity.color.syntax;return Yr.define([{tag:M.keyword,color:u.keyword},{tag:[M.propertyName,M.name,M.deleted,M.character,M.macroName],color:u.property},{tag:[M.function(M.variableName),M.labelName],color:u.function},{tag:[M.color,M.constant(M.name),M.standard(M.name)],color:u.variable},{tag:[M.definition(M.name),M.separator],color:u.constant},{tag:[M.typeName,M.className,M.number,M.changed,M.annotation,M.modifier,M.self,M.namespace],color:u.number},{tag:[M.operator,M.operatorKeyword,M.url,M.escape,M.regexp,M.link,M.special(M.string)],color:u.operator},{tag:[M.meta,M.comment],color:u.comment},{tag:M.strong,fontWeight:"bold"},{tag:M.emphasis,fontStyle:"italic"},{tag:M.strikethrough,textDecoration:"line-through"},{tag:M.heading,fontWeight:"bold",color:u.property},{tag:[M.atom,M.bool,M.special(M.variableName)],color:u.boolean},{tag:[M.processingInstruction,M.string,M.inserted],color:u.string},{tag:M.invalid,color:e.fg}])}const kn=ue.div`
  width: 100%;
  box-sizing: border-box;
  height: 100%;
  overflow: hidden;
  overflow: clip;
  position: relative;
  display: flex;

  & .cm-theme {
    width: 100%;
  }

  & .cm-editor {
    height: 100%;

    font-size: 16px;
    line-height: 21px;
  }

  & .cm-line {
    padding-left: ${({theme:t})=>je(t.sanity.space[3])};
  }

  & .cm-content {
    border-right-width: ${({theme:t})=>je(t.sanity.space[4])} !important;
    padding-top: ${({theme:t})=>je(t.sanity.space[5])};
  }
`,qt=S.forwardRef((t,e)=>{const u=ce.c(7),[r]=S.useState(t.initialValue),c=cr(),i=Nn(c),o=S.useRef(null);let n;u[0]===Symbol.for("react.memo_cache_sentinel")?(n=b=>{var l;const E=(l=o.current)==null?void 0:l.view;if(!E)return;const g=E.state.doc.toString();b!==g&&E.dispatch({changes:{from:0,to:g.length,insert:b},selection:Gr.cursor(b.length)})},u[0]=n):n=u[0];const s=n;let f,h;u[1]===Symbol.for("react.memo_cache_sentinel")?(f=()=>({resetEditorContent:s}),h=[s],u[1]=f,u[2]=h):(f=u[1],h=u[2]),S.useImperativeHandle(e,f,h);let d;return u[3]!==r||u[4]!==t.onChange||u[5]!==i?(d=a.jsx(kn,{children:a.jsx(zr,{ref:o,basicSetup:!1,theme:i,extensions:Rn,value:r,onChange:t.onChange})}),u[3]=r,u[4]=t.onChange,u[5]=i,u[6]=d):d=u[6],d});qt.displayName="VisionCodeMirror";const zu=["pinnedRelease","raw","published","drafts"],$n=["pinnedRelease"];function St(t){return zu.includes(t)}function hu(t){return typeof t=="string"&&$n.includes(t)}function Fu({selectedPerspectiveName:t}){return typeof t<"u"}function wt({visionPerspective:t,perspectiveStack:e}){return t!=="pinnedRelease"?t:e}function jt(t,e={},u={}){const r=new URLSearchParams;r.set("query",t);for(const[c,i]of Object.entries(e))r.set(`$${c}`,JSON.stringify(i));for(const[c,i]of Object.entries(u))i&&r.set(c,`${i}`);return`?${r}`}function Mn(t){return!!t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"}const Iu=Vn(),ku="sanityVision:";function Tn(){if(Iu)for(let t=0;t<localStorage.length;t++){const e=localStorage.key(t);e!=null&&e.startsWith(ku)&&localStorage.removeItem(e)}}function Ln(t){const e=`${ku}${t}`;let u=null;return{get:r,set:c,merge:i};function r(s,f){const h=o();return typeof h[s]>"u"?f:h[s]}function c(s,f){const h=o();return h[s]=f,localStorage.setItem(e,JSON.stringify(u)),f}function i(s){const f={...o(),...s};return localStorage.setItem(e,JSON.stringify(f)),f}function o(){return u===null&&(u=n()),u}function n(){if(!Iu)return{};try{const s=JSON.parse(localStorage.getItem(e)||"{}");return Mn(s)?s:{}}catch{return{}}}}function Vn(){const t="lsCheck";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}function qn(t){const e={},u={};for(const[r,c]of t.entries()){if(r[0]==="$"){e[r.slice(1)]=JSON.parse(c);continue}if(r==="perspective"){u[r]=c;continue}}return{query:t.get("query")||"",params:e,options:u}}function Jn(t){return t[0]!=="v"&&t!=="other"?`v${t}`:t}function _t(t){const e=t.replace(/^v/,"").trim().toUpperCase();return e.length>0&&(e==="X"||e==="1"||/^\d{4}-\d{2}-\d{2}$/.test(e)&&!isNaN(Date.parse(e)))}function Un(t,e){try{const u=t?Bn.parse(t):{};return typeof u=="object"&&u&&!Array.isArray(u)?u:{}}catch(u){return u.message=`${e("params.error.params-invalid-json")}:

${u.message.replace("JSON5:","")}`,u}}const $u=ue(ge)`
  .sidebarPanes .Pane {
    overflow-y: auto;
    overflow-x: hidden;
  }

  & .Resizer {
    background: var(--card-border-color);
    opacity: 1;
    z-index: 1;
    box-sizing: border-box;
    background-clip: padding-box;
    border: solid transparent;
  }

  & .Resizer:hover {
    border-color: var(--card-shadow-ambient-color);
  }

  & .Resizer.horizontal {
    height: 11px;
    margin: -5px 0;
    border-width: 5px 0;
    cursor: row-resize;
    width: 100%;
    z-index: 4;
  }

  & .Resizer.vertical {
    width: 11px;
    margin: 0 -5px;
    border-width: 0 5px;
    cursor: col-resize;
    z-index: 2; /* To prevent the resizer from being hidden behind CodeMirror scroll area */
  }

  .Resizer.disabled {
    cursor: not-allowed;
  }

  .Resizer.disabled:hover {
    border-color: transparent;
  }
`;$u.displayName="Root";const Hn=ue(le)`
  border-bottom: 1px solid var(--card-border-color);
`,ke=ue(Or)`
  flex: 1;
`,Wn=ue(te)`
  position: relative;
`,Qn=ue.a`
  cursor: pointer;
  margin-right: auto;
`,Mu=ue(te)`
  position: absolute;
  top: 1rem;
  left: 0;
  padding: 0;
  margin: 0;
  z-index: 10;
  right: 0;

  ${ke} {
    user-select: none;
  }
`,Tu=ue(Mu)`
  // This is so its aligned with the gutters of CodeMirror
  left: 33px;
`,Au=ue(le)`
  width: 100%;
  height: 100%;
  position: relative;
  flex-direction: column;
`,Kn=ue(ge)`
  height: 100%;
`,Yn=ue(te)`
  position: relative;
`,Xn=ue(le)`
  height: 100%;
  width: 100%;
  position: absolute;
  max-width: 100%;

  ${({$isInvalid:t})=>t&&xu`
      &:after {
        background-color: var(--card-bg-color);
        content: '';
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        width: 100%;
      }
    `}
`,Gn=ue(te)`
  position: relative;
  width: 100%;
  height: 100%;
  z-index: 20;
`,Zn=ue(ge)`
  border-top: 1px solid var(--card-border-color);
`,ei=ue(le)`
  position: relative;
`;ue(te)`
  width: 100%;
  height: 100%;
`;const ti=ue(ge)`
  height: 100%;
  min-height: ${({theme:t})=>je(t.sanity.space[3]*2+t.sanity.fonts.text.sizes[2].lineHeight-t.sanity.fonts.text.sizes[2].ascenderHeight-t.sanity.fonts.text.sizes[2].descenderHeight)};
`,ui=ue(le)`
  position: relative;
`,ri=ue(ye)`
  transform: initial;
  &:before,
  &:after {
    content: none;
  }
  > span {
    display: flex !important;
    gap: ${({theme:t})=>je(t.sanity.space[3])};
    align-items: center;
  }
`,ni=ue(te)`
  border-top: 1px solid var(--card-border-color);
`,ii=`{
  
}`;function si(t){const e=ce.c(33),{onChange:u,paramsError:r,hasValidParams:c,editorRef:i}=t,{t:o}=Me(Te);let n;e[0]!==t.value||e[1]!==o?(n=lt(t.value,o),e[0]=t.value,e[1]=o,e[2]=n):n=e[2];const{raw:s,error:f,parsed:h,valid:d}=n,[b,E]=S.useState(d),[g,l]=S.useState(!1);let x,p;e[3]!==f||e[4]!==g||e[5]!==b||e[6]!==u||e[7]!==h||e[8]!==s?(x=()=>{g||(u({parsed:h,raw:s,valid:b,error:f}),l(!0))},p=[f,g,b,u,h,s],e[3]=f,e[4]=g,e[5]=b,e[6]=u,e[7]=h,e[8]=s,e[9]=x,e[10]=p):(x=e[9],p=e[10]),S.useEffect(x,p);let y;e[11]!==u||e[12]!==o?(y=H=>{const T=lt(H,o);E(T.valid),u(T)},e[11]=u,e[12]=o,e[13]=y):y=e[13];const P=y;let _,w;e[14]!==P?(w=Dr(P,333),e[14]=P,e[15]=w):w=e[15],_=w;const R=_,k=c?"default":"critical";let q;e[16]!==o?(q=o("params.label"),e[16]=o,e[17]=q):q=e[17];let A;e[18]!==q?(A=a.jsx(ke,{muted:!0,children:q}),e[18]=q,e[19]=A):A=e[19];let D;e[20]!==r?(D=r&&a.jsx(tt,{animate:!0,placement:"top",portal:!0,content:a.jsx(ye,{size:1,children:r}),children:a.jsx(te,{padding:1,marginX:2,children:a.jsx(ye,{children:a.jsx(Br,{})})})}),e[20]=r,e[21]=D):D=e[21];let v;e[22]!==A||e[23]!==D?(v=a.jsx(Tu,{children:a.jsxs(ge,{children:[A,D]})}),e[22]=A,e[23]=D,e[24]=v):v=e[24];const B=t.value||ii;let F;e[25]!==i||e[26]!==R||e[27]!==B?(F=a.jsx(qt,{ref:i,initialValue:B,onChange:R}),e[25]=i,e[26]=R,e[27]=B,e[28]=F):F=e[28];let z;return e[29]!==v||e[30]!==F||e[31]!==k?(z=a.jsxs(le,{flex:1,tone:k,"data-testid":"params-editor",children:[v,F]}),e[29]=v,e[30]=F,e[31]=k,e[32]=z):z=e[32],z}function lt(t,e){const u=Un(t,e),r=u instanceof Error?{}:u,c=u instanceof Error?u.message:void 0;return{parsed:r,raw:t,valid:!c,error:c}}const ai="studio.vision-tool.saved-queries",Pt={queries:[]},rt=ai;function oi(){const t=Er(),[e,u]=S.useState(Pt),[r,c]=S.useState(!1),[i,o]=S.useState([]),[n,s]=S.useState(),[f,h]=S.useState(),[d,b]=S.useState(),E=S.useMemo(()=>t.getKey(rt),[t]);S.useEffect(()=>{const p=E.pipe(gr(Pt),gu(y=>y||Pt)).subscribe({next:u,error:y=>b(y)});return()=>p==null?void 0:p.unsubscribe()},[E,t]);const g=S.useCallback(p=>{c(!0),s(void 0);try{const y=[{...p,_key:yr()},...e.queries];u({queries:y}),t.setKey(rt,{queries:y})}catch(y){s(y)}finally{c(!1)}},[t,e.queries]),l=S.useCallback(p=>{c(!0),s(void 0);try{const y=e.queries.map(P=>P._key===p._key?{...P,...p}:P);u({queries:y}),t.setKey(rt,{queries:y})}catch(y){s(y)}finally{c(!1)}},[t,e.queries]),x=S.useCallback(p=>{o(y=>[...y,p]),h(void 0);try{const y=e.queries.filter(P=>P._key!==p);u({queries:y}),t.setKey(rt,{queries:y})}catch(y){h(y)}finally{o(y=>y.filter(P=>P!==p))}},[t,e.queries]);return{queries:e.queries,saveQuery:g,updateQuery:l,deleteQuery:x,saving:r,deleting:i,saveQueryError:n,deleteQueryError:f,error:d}}const li=ue(Ee)`
  position: sticky;
  top: 0;
  background: ${({theme:t})=>t.sanity.color.base.bg};
  z-index: 1;
`,ci=ue(te)`
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &::-webkit-scrollbar-thumb {
    background: ${({theme:t})=>t.sanity.color.base.border};
    border-radius: 4px;
  }
`;function Di(t){const e=ce.c(80),{url:u,getStateFromUrl:r,setStateFromParsedUrl:c,currentQuery:i,currentParams:o,generateUrl:n}=t,s=yu(),{saveQuery:f,updateQuery:h,queries:d,deleteQuery:b,saving:E,saveQueryError:g}=oi(),{t:l}=Me(Te);let x;e[0]===Symbol.for("react.memo_cache_sentinel")?(x={month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0},e[0]=x):x=e[0];const p=dr(x),[y,P]=S.useState(null),[_,w]=S.useState("");let R;e[1]===Symbol.for("react.memo_cache_sentinel")?(R={},e[1]=R):R=e[1];const[k,q]=S.useState(R),[A,D]=S.useState(""),[v,B]=S.useState(u);let F;e[2]!==o||e[3]!==i||e[4]!==p||e[5]!==n||e[6]!==r||e[7]!==d||e[8]!==f||e[9]!==g||e[10]!==l||e[11]!==s?(F=async()=>{const L=n(i,o);if(d!=null&&d.some(X=>{const J=r(X.url);return J&&J.query===i&&Ye(J.params,o)})){const X=d==null?void 0:d.find(J=>{const Z=r(J.url);return Z&&Z.query===i&&Ye(Z.params,o)});s.push({closable:!0,status:"warning",title:l("save-query.already-saved"),description:`${X==null?void 0:X.title} - ${p.format(new Date((X==null?void 0:X.savedAt)||""))}`});return}L&&(await f({url:L,savedAt:new Date().toISOString(),title:"Untitled"}),B(L)),g?s.push({closable:!0,status:"error",title:l("save-query.error"),description:g.message}):s.push({closable:!0,status:"success",title:l("save-query.success")})},e[2]=o,e[3]=i,e[4]=p,e[5]=n,e[6]=r,e[7]=d,e[8]=f,e[9]=g,e[10]=l,e[11]=s,e[12]=F):F=e[12];const z=F;let H;e[13]!==l||e[14]!==s||e[15]!==h?(H=async(L,X)=>{P(null),q(J=>({...J,[L._key]:X}));try{await h({...L,title:X}),q(J=>{const Z={...J};return delete Z[L._key],Z})}catch(J){const Z=J;q(oe=>{const pe={...oe};return delete pe[L._key],pe}),s.push({closable:!0,status:"error",title:l("save-query.error"),description:Z.message})}},e[13]=l,e[14]=s,e[15]=h,e[16]=H):H=e[16];const T=H;let ee;e[17]!==o||e[18]!==i||e[19]!==p||e[20]!==n||e[21]!==r||e[22]!==d||e[23]!==l||e[24]!==s||e[25]!==h?(ee=async L=>{const X=n(i,o);if(d!=null&&d.some(J=>{if(J._key===L._key)return!1;const Z=r(J.url);return Z&&Z.query===i&&Ye(Z.params,o)})){const J=d==null?void 0:d.find(Z=>{if(Z._key===L._key)return!1;const oe=r(Z.url);return oe&&oe.query===i&&Ye(oe.params,o)});s.push({closable:!0,status:"warning",title:l("save-query.already-saved"),description:`${J==null?void 0:J.title} - ${p.format(new Date((J==null?void 0:J.savedAt)||""))}`});return}try{await h({...L,url:X,savedAt:new Date().toISOString()}),B(X),s.push({closable:!0,status:"success",title:l("save-query.success")})}catch(J){const Z=J;s.push({closable:!0,status:"error",title:l("save-query.error"),description:Z.message})}},e[17]=o,e[18]=i,e[19]=p,e[20]=n,e[21]=r,e[22]=d,e[23]=l,e[24]=s,e[25]=h,e[26]=ee):ee=e[26];const W=ee;let O,re,se,C,N;if(e[27]!==o||e[28]!==i||e[29]!==b||e[30]!==y||e[31]!==_||e[32]!==p||e[33]!==r||e[34]!==z||e[35]!==T||e[36]!==W||e[37]!==k||e[38]!==d||e[39]!==E||e[40]!==A||e[41]!==v||e[42]!==c||e[43]!==l){const L=d==null?void 0:d.filter(Y=>{var Ae;return(Ae=Y==null?void 0:Y.title)==null?void 0:Ae.toLowerCase().includes(A.toLowerCase())});re=ci;let X;e[49]===Symbol.for("react.memo_cache_sentinel")?(X={textTransform:"capitalize"},e[49]=X):X=e[49];let J;e[50]!==l?(J=l("label.saved-queries"),e[50]=l,e[51]=J):J=e[51];let Z;e[52]!==J?(Z=a.jsx(ye,{weight:"semibold",style:X,size:4,children:J}),e[52]=J,e[53]=Z):Z=e[53];let oe;e[54]!==l?(oe=l("action.save-query"),e[54]=l,e[55]=oe):oe=e[55];let pe;e[56]!==z||e[57]!==E||e[58]!==oe?(pe=a.jsx(Oe,{label:oe,icon:br,disabled:E,onClick:z,mode:"bleed"}),e[56]=z,e[57]=E,e[58]=oe,e[59]=pe):pe=e[59];let Ce;e[60]!==Z||e[61]!==pe?(Ce=a.jsxs(ge,{padding:3,paddingTop:4,paddingBottom:0,justify:"space-between",align:"center",children:[Z,pe]}),e[60]=Z,e[61]=pe,e[62]=Ce):Ce=e[62];let xe;e[63]!==l?(xe=l("label.search-queries"),e[63]=l,e[64]=xe):xe=e[64];let Le;e[65]===Symbol.for("react.memo_cache_sentinel")?(Le=Y=>D(Y.currentTarget.value),e[65]=Le):Le=e[65];let Ve;e[66]!==A||e[67]!==xe?(Ve=a.jsx(te,{padding:3,paddingTop:0,children:a.jsx(it,{placeholder:xe,icon:Sr,value:A,onChange:Le})}),e[66]=A,e[67]=xe,e[68]=Ve):Ve=e[68],e[69]!==Ce||e[70]!==Ve?(N=a.jsxs(li,{space:3,children:[Ce,Ve]}),e[69]=Ce,e[70]=Ve,e[71]=N):N=e[71],O=Ee,se=3,C=L==null?void 0:L.map(Y=>{const Ae=r(Y.url),Ke=v===Y.url,Pe=Ae&&i===Ae.query&&Ye(o,Ae.params),Re=Ke&&!Pe;return a.jsx(le,{width:"fill",padding:4,border:!0,tone:Ke?"positive":"default",onClick:()=>{B(Y.url);const De=r(Y.url);De&&c(De)},style:{position:"relative"},children:a.jsxs(Ee,{space:3,children:[a.jsxs(ge,{justify:"space-between",align:"center",children:[a.jsxs(ge,{align:"center",gap:2,paddingRight:1,children:[y===Y._key?a.jsx(it,{value:_,onChange:De=>w(De.currentTarget.value),onKeyDown:De=>{De.key==="Enter"?T(Y,_):De.key==="Escape"&&P(null)},onBlur:()=>T(Y,_),autoFocus:!0,style:{maxWidth:"170px",height:"24px"}}):a.jsx(ye,{weight:"bold",size:3,textOverflow:"ellipsis",style:{maxWidth:"170px",cursor:"pointer",padding:"4px 0"},title:k[Y._key]||Y.title||Y._key.slice(Y._key.length-5,Y._key.length),onClick:()=>{P(Y._key),w(Y.title||Y._key.slice(0,5))},children:k[Y._key]||Y.title||Y._key.slice(Y._key.length-5,Y._key.length)}),Re&&a.jsx(te,{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"var(--card-focus-ring-color)"}})]}),a.jsx(fr,{button:a.jsx(Fr,{}),id:`${Y._key}-menu`,menu:a.jsx(pr,{children:a.jsx(Cr,{tone:"critical",padding:3,icon:hr,text:l("action.delete"),onClick:De=>{De.stopPropagation(),b(Y._key)}})}),popover:{portal:!0,placement:"bottom-end",tone:"default"}})]}),a.jsx(ct,{muted:!0,children:Ae==null?void 0:Ae.query.split("{")[0]}),a.jsx(ge,{align:"center",gap:1,children:a.jsx(ye,{size:1,muted:!0,children:p.format(new Date(Y.savedAt||""))})}),Re&&a.jsx(Oe,{mode:"ghost",tone:"default",size:1,padding:2,style:{height:"24px",position:"absolute",right:"16px",bottom:"16px",fontSize:"12px"},text:l("action.update"),onClick:De=>{De.stopPropagation(),W(Y)}})]})},Y._key)}),e[27]=o,e[28]=i,e[29]=b,e[30]=y,e[31]=_,e[32]=p,e[33]=r,e[34]=z,e[35]=T,e[36]=W,e[37]=k,e[38]=d,e[39]=E,e[40]=A,e[41]=v,e[42]=c,e[43]=l,e[44]=O,e[45]=re,e[46]=se,e[47]=C,e[48]=N}else O=e[44],re=e[45],se=e[46],C=e[47],N=e[48];let $;e[72]!==O||e[73]!==se||e[74]!==C?($=a.jsx(O,{paddingY:se,children:C}),e[72]=O,e[73]=se,e[74]=C,e[75]=$):$=e[75];let K;return e[76]!==re||e[77]!==N||e[78]!==$?(K=a.jsxs(re,{children:[N,$]}),e[76]=re,e[77]=N,e[78]=$,e[79]=K):K=e[79],K}function Jt(){return typeof window<"u"&&window.innerWidth>600}function Lu(t){let e=t;return e||(e=typeof window<"u"&&typeof document<"u"?document.body.getBoundingClientRect().height-60:0),{defaultSize:e/(Jt()?2:1),size:e>550?void 0:e*.4,allowResize:e>550,minSize:Math.min(170,Math.max(170,e/2)),maxSize:e>650?e*.7:e*.6}}function di(t){const e=ce.c(7),{visionRootRef:u}=t,[r,c]=S.useState(pi),[i,o]=S.useState(fi);let n;e[0]!==u.current?(n=()=>{if(!u.current)return;const h=b=>{c(Jt());const E=b==null?void 0:b[0];E&&o(Lu(E.contentRect.height))},d=new ResizeObserver(h);return d.observe(u.current),()=>{d.disconnect()}},e[0]=u.current,e[1]=n):n=e[1];let s;e[2]!==u?(s=[u],e[2]=u,e[3]=s):s=e[3],S.useEffect(n,s);let f;return e[4]!==r||e[5]!==i?(f={paneSizeOptions:i,isNarrowBreakpoint:r},e[4]=r,e[5]=i,e[6]=f):f=e[6],f}function fi(){return Lu(void 0)}function pi(){return Jt()}function Ci(t){const e=ce.c(30),{hasValidParams:u,listenInProgress:r,queryInProgress:c,onQueryExecution:i,onListenExecution:o}=t,{t:n}=Me(Te);let s;e[0]!==n?(s=n("params.error.params-invalid-json"),e[0]=n,e[1]=s):s=e[1];let f;e[2]!==s?(f=a.jsx(le,{radius:4,children:a.jsx(ye,{size:1,muted:!0,children:s})}),e[2]=s,e[3]=f):f=e[3];let h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h=a.jsx(le,{radius:4,children:a.jsx(wr,{keys:["Ctrl","Enter"]})}),e[4]=h):h=e[4];const d=c?Kt:Yt,b=r||!u,E=c?"positive":"primary";let g;e[5]!==c||e[6]!==n?(g=n(c?"action.query-cancel":"action.query-execute"),e[5]=c,e[6]=n,e[7]=g):g=e[7];let l;e[8]!==i||e[9]!==d||e[10]!==b||e[11]!==E||e[12]!==g?(l=a.jsx(te,{flex:1,children:a.jsx(tt,{content:h,placement:"top",portal:!0,children:a.jsx(Oe,{width:"fill",onClick:i,type:"button",icon:d,disabled:b,tone:E,text:g})})}),e[8]=i,e[9]=d,e[10]=b,e[11]=E,e[12]=g,e[13]=l):l=e[13];const x=r?Kt:Yt;let p;e[14]!==r||e[15]!==n?(p=n(r?"action.listen-cancel":"action.listen-execute"),e[14]=r,e[15]=n,e[16]=p):p=e[16];const y=!u,P=r?"positive":"default";let _;e[17]!==o||e[18]!==p||e[19]!==y||e[20]!==P||e[21]!==x?(_=a.jsx(te,{flex:1,marginLeft:3,children:a.jsx(Oe,{width:"fill",onClick:o,type:"button",icon:x,text:p,mode:"ghost",disabled:y,tone:P})}),e[17]=o,e[18]=p,e[19]=y,e[20]=P,e[21]=x,e[22]=_):_=e[22];let w;e[23]!==_||e[24]!==l?(w=a.jsxs(ge,{justify:"space-evenly",children:[l,_]}),e[23]=_,e[24]=l,e[25]=w):w=e[25];let R;return e[26]!==u||e[27]!==w||e[28]!==f?(R=a.jsx(ni,{children:a.jsx(le,{padding:3,paddingX:3,children:a.jsx(tt,{content:f,placement:"top",disabled:u,portal:!0,children:w})})}),e[26]=u,e[27]=w,e[28]=f,e[29]=R):R=e[29],R}const hi=ue(te)`
  /* This limits the width of the popover content */
  max-width: 240px;
`,Fi=ue.a`
  cursor: pointer;
  margin-right: auto;
`,Ai=ue.div`
  width: 4px;
  height: 4px;
  border-radius: 3px;
  box-shadow: 0 0 0 1px var(--card-bg-color);
  background-color: ${({$tone:t})=>`var(--card-badge-${t}-dot-color)`};
`;function mi(){const t=ce.c(39),[e,u]=S.useState(!1),r=S.useRef(null),c=S.useRef(null);let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=()=>u(Ei),t[0]=i):i=t[0];const o=i,{t:n}=Me(Te);let s,f;t[1]===Symbol.for("react.memo_cache_sentinel")?(s=()=>u(!1),f=()=>[r.current,c.current],t[1]=s,t[2]=f):(s=t[1],f=t[2]),_r(s,f);let h;t[3]!==n?(h=n("settings.perspectives.title"),t[3]=n,t[4]=h):h=t[4];let d;t[5]!==h?(d=a.jsx(Bu,{space:2,children:a.jsx(ye,{weight:"medium",children:h})}),t[5]=h,t[6]=d):d=t[6];let b;t[7]!==n?(b=n("settings.perspectives.description"),t[7]=n,t[8]=b):b=t[8];let E;t[9]!==b?(E=a.jsx(le,{children:a.jsx(ye,{muted:!0,children:b})}),t[9]=b,t[10]=E):E=t[10];let g;t[11]!==n?(g=n("label.new"),t[11]=n,t[12]=g):g=t[12];let l;t[13]!==g?(l=a.jsx(te,{children:a.jsx(Rr,{tone:"primary",children:g})}),t[13]=g,t[14]=l):l=t[14];let x;t[15]!==n?(x=a.jsx(ye,{muted:!0,children:a.jsx(bu,{t:n,i18nKey:"settings.perspective.preview-drafts-renamed-to-drafts.description"})}),t[15]=n,t[16]=x):x=t[16];let p;t[17]!==l||t[18]!==x?(p=a.jsx(le,{children:a.jsxs(Ee,{space:2,children:[l,x]})}),t[17]=l,t[18]=x,t[19]=p):p=t[19];let y;t[20]!==n?(y=null,t[20]=n,t[21]=y):y=t[21];let P;t[22]!==n?(P=n("settings.perspectives.action.docs-link"),t[22]=n,t[23]=P):P=t[23];let _;t[24]!==P?(_=a.jsx(le,{children:a.jsx(ye,{children:a.jsxs(Fi,{href:"https://sanity.io/docs/perspectives",target:"_blank",children:[P," →"]})})}),t[24]=P,t[25]=_):_=t[25];let w;t[26]!==p||t[27]!==y||t[28]!==_||t[29]!==d||t[30]!==E?(w=a.jsx(hi,{children:a.jsxs(Ee,{space:4,children:[d,E,p,y,_]})}),t[26]=p,t[27]=y,t[28]=_,t[29]=d,t[30]=E,t[31]=w):w=t[31];let R;t[32]===Symbol.for("react.memo_cache_sentinel")?(R=a.jsx(Ai,{$tone:"primary"}),t[32]=R):R=t[32];let k;t[33]!==e?(k=a.jsx(Oe,{icon:Nr,mode:"bleed",padding:2,paddingRight:1,tone:"primary",fontSize:1,ref:r,onClick:o,selected:e,children:R}),t[33]=e,t[34]=k):k=t[34];let q;return t[35]!==e||t[36]!==w||t[37]!==k?(q=a.jsx(Pr,{content:w,placement:"bottom-start",portal:!0,padding:3,ref:c,open:e,children:k}),t[35]=e,t[36]=w,t[37]=k,t[38]=q):q=t[38],q}function Ei(t){return!t}const gi=t=>{const e=ce.c(9),{pinnedPerspective:u,t:r}=t,c=typeof u.selectedPerspective=="object"?u.selectedPerspective.metadata.title:u.selectedPerspectiveName;let i;e[0]!==u||e[1]!==r?(i=Fu(u)?`(${r("settings.perspectives.pinned-release-label")})`:r("settings.perspectives.pinned-release-label"),e[0]=u,e[1]=r,e[2]=i):i=e[2];const o=i;let n,s;e[3]!==o||e[4]!==c?(s=[c,o].filter(Bi),e[3]=o,e[4]=c,e[5]=s):s=e[5],n=s.join(" ");const f=n,h=!Fu(u);let d;return e[6]!==h||e[7]!==f?(d=a.jsx("option",{value:"pinnedRelease",disabled:h,children:f}),e[6]=h,e[7]=f,e[8]=d):d=e[8],d};function yi(t){const e=ce.c(64),{onChangeDataset:u,dataset:r,customApiVersion:c,apiVersion:i,onChangeApiVersion:o,datasets:n,customApiVersionElementRef:s,onCustomApiVersionChange:f,isValidApiVersion:h,onChangePerspective:d,url:b,perspective:E}=t,g=vu(),{t:l}=Me(Te),x=S.useRef(null);let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{const J=x.current;if(J)try{J.select(),document.execCommand("copy")}catch{console.error("Unable to copy to clipboard :(")}},e[0]=p):p=e[0];const y=p;let P;e[1]===Symbol.for("react.memo_cache_sentinel")?(P=[1,4,8,12],e[1]=P):P=e[1];let _;e[2]!==l?(_=l("settings.dataset-label"),e[2]=l,e[3]=_):_=e[3];let w;e[4]!==_?(w=a.jsx(le,{paddingTop:2,paddingBottom:3,children:a.jsx(ke,{children:_})}),e[4]=_,e[5]=w):w=e[5];let R;e[6]!==n?(R=n.map(xi),e[6]=n,e[7]=R):R=e[7];let k;e[8]!==r||e[9]!==u||e[10]!==R?(k=a.jsx(gt,{value:r,onChange:u,children:R}),e[8]=r,e[9]=u,e[10]=R,e[11]=k):k=e[11];let q;e[12]!==w||e[13]!==k?(q=a.jsx(te,{padding:1,column:2,children:a.jsxs(Ee,{children:[w,k]})}),e[12]=w,e[13]=k,e[14]=q):q=e[14];let A;e[15]!==l?(A=l("settings.api-version-label"),e[15]=l,e[16]=A):A=e[16];let D;e[17]!==A?(D=a.jsx(le,{paddingTop:2,paddingBottom:3,children:a.jsx(ke,{children:A})}),e[17]=A,e[18]=D):D=e[18];const v=c===!1?i:"other";let B;e[19]===Symbol.for("react.memo_cache_sentinel")?(B=et.map(vi),e[19]=B):B=e[19];let F;e[20]!==l?(F=l("settings.other-api-version-label"),e[20]=l,e[21]=F):F=e[21];let z;e[22]!==F?(z=a.jsx("option",{value:"other",children:F},"other"),e[22]=F,e[23]=z):z=e[23];let H;e[24]!==o||e[25]!==v||e[26]!==z?(H=a.jsxs(gt,{"data-testid":"api-version-selector",value:v,onChange:o,children:[B,z]}),e[24]=o,e[25]=v,e[26]=z,e[27]=H):H=e[27];let T;e[28]!==H||e[29]!==D?(T=a.jsx(te,{padding:1,column:2,children:a.jsxs(Ee,{children:[D,H]})}),e[28]=H,e[29]=D,e[30]=T):T=e[30];let ee;e[31]!==c||e[32]!==s||e[33]!==h||e[34]!==f||e[35]!==l?(ee=c!==!1&&a.jsx(te,{padding:1,column:2,children:a.jsxs(Ee,{children:[a.jsx(le,{paddingTop:2,paddingBottom:3,children:a.jsx(ke,{textOverflow:"ellipsis",children:l("settings.custom-api-version-label")})}),a.jsx(it,{ref:s,value:c,onChange:f,customValidity:h?void 0:l("settings.error.invalid-api-version"),maxLength:11})]})}),e[31]=c,e[32]=s,e[33]=h,e[34]=f,e[35]=l,e[36]=ee):ee=e[36];let W;e[37]!==l?(W=l("settings.perspective-label"),e[37]=l,e[38]=W):W=e[38];let O;e[39]!==W?(O=a.jsx(te,{children:a.jsx(ke,{children:W})}),e[39]=W,e[40]=O):O=e[40];let re;e[41]===Symbol.for("react.memo_cache_sentinel")?(re=a.jsx(te,{children:a.jsx(mi,{})}),e[41]=re):re=e[41];let se;e[42]!==O?(se=a.jsx(le,{paddingBottom:1,children:a.jsxs(Bu,{space:1,children:[O,re]})}),e[42]=O,e[43]=se):se=e[43];const C=E||"default";let N;e[44]!==g||e[45]!==l?(N=zu.map(J=>J==="pinnedRelease"?a.jsxs(S.Fragment,{children:[a.jsx(gi,{pinnedPerspective:g,t:l}),a.jsx("option",{value:"default",children:l("settings.perspectives.default")},"default"),a.jsx("hr",{})]},"pinnedRelease"):a.jsx("option",{children:J},J)),e[44]=g,e[45]=l,e[46]=N):N=e[46];let $;e[47]!==d||e[48]!==C||e[49]!==N?($=a.jsx(gt,{value:C,onChange:d,children:N}),e[47]=d,e[48]=C,e[49]=N,e[50]=$):$=e[50];let K;e[51]!==se||e[52]!==$?(K=a.jsx(te,{padding:1,column:2,children:a.jsxs(Ee,{children:[se,$]})}),e[51]=se,e[52]=$,e[53]=K):K=e[53];let L;e[54]!==c||e[55]!==l||e[56]!==b?(L=typeof b=="string"?a.jsx(te,{padding:1,flex:1,column:c===!1?6:4,children:a.jsxs(Ee,{children:[a.jsx(le,{paddingTop:2,paddingBottom:3,children:a.jsxs(ke,{children:[l("query.url")," ",a.jsxs(Qn,{onClick:y,children:["[",l("action.copy-url-to-clipboard"),"]"]})]})}),a.jsxs(ge,{flex:1,gap:1,children:[a.jsx(te,{flex:1,children:a.jsx(it,{readOnly:!0,type:"url",ref:x,value:b})}),a.jsx(tt,{content:l("action.copy-url-to-clipboard"),children:a.jsx(Oe,{"aria-label":l("action.copy-url-to-clipboard"),type:"button",mode:"ghost",icon:or,onClick:y})})]})]})}):a.jsx(te,{flex:1}),e[54]=c,e[55]=l,e[56]=b,e[57]=L):L=e[57];let X;return e[58]!==T||e[59]!==ee||e[60]!==K||e[61]!==L||e[62]!==q?(X=a.jsx(Hn,{paddingX:3,paddingY:2,children:a.jsxs(lr,{columns:P,children:[q,T,ee,K,L]})}),e[58]=T,e[59]=ee,e[60]=K,e[61]=L,e[62]=q,e[63]=X):X=e[63],X}function vi(t){return a.jsx("option",{children:t},t)}function xi(t){return a.jsx("option",{children:t},t)}function Bi(t){return typeof t<"u"}function bi(t,e){return URL.createObjectURL(new Blob([t],{type:e}))}function Vu(t,e){return(()=>{let u="",r="";return c=>{const i=e(c);if(!(typeof i!="string"||i===""))return i===r||(r=i,u&&URL.revokeObjectURL(u),u=bi(i,t)),u}})()}const Si=Vu("application/json",t=>JSON.stringify(t,null,2)),wi=Vu("text/csv",t=>On.json2csv(Array.isArray(t)?t:[t]).trim()),kt=ue(ct)`
  color: ${({theme:t})=>t.sanity.color.muted.critical.enabled.fg};
`;function ji(t){const e=ce.c(7),{error:u}=t,{t:r}=Me(Te);if(!("details"in u))return null;const c={...u.details,..._i(u.details)};if(!c.line)return null;const i=`${c.line}
${Pi(c.column,c.columnEnd)}`;let o;e[0]!==i?(o=a.jsx(kt,{size:1,children:i}),e[0]=i,e[1]=o):o=e[1];const n=`${r("query.error.line")}:   ${c.lineNumber}
${r("query.error.column")}: ${c.column}`;let s;e[2]!==n?(s=a.jsx(te,{marginTop:4,children:a.jsx(kt,{size:1,children:n})}),e[2]=n,e[3]=s):s=e[3];let f;return e[4]!==o||e[5]!==s?(f=a.jsxs("div",{children:[o,s]}),e[4]=o,e[5]=s,e[6]=f):f=e[6],f}function _i(t){if(!t||typeof t.query!="string"||typeof t.start!="number")return{};const{query:e,start:u,end:r}=t,c=e.slice(0,u).lastIndexOf(`
`)+1,i=(e.slice(0,c).match(/\n/g)||[]).length,o=e.slice(c,e.indexOf(`
`,c)),n=u-c,s=typeof r=="number"?r-c:void 0;return{line:o,lineNumber:i,column:n,columnEnd:s}}function Pi(t,e){const u="-".repeat(t),r="^".repeat(e?e-t:1);return`${u}${r}`}function Oi(t){const e=ce.c(7);let u;e[0]!==t.error.message?(u=a.jsx(kt,{size:1,children:t.error.message}),e[0]=t.error.message,e[1]=u):u=e[1];let r;e[2]!==t.error?(r=a.jsx(ji,{error:t.error}),e[2]=t.error,e[3]=r):r=e[3];let c;return e[4]!==u||e[5]!==r?(c=a.jsxs(Ee,{space:5,marginTop:2,children:[u,r]}),e[4]=u,e[5]=r,e[6]=c):c=e[6],c}const Ri=ue.div(({theme:t})=>{const{color:e,fonts:u,space:r}=t.sanity;return xu`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: ${u.code.family};
      font-size: ${u.code.sizes[2].fontSize}px;
      line-height: ${u.code.sizes[2].lineHeight}px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: ${je(r[4])};
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: ${je(r[0])};
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: '▸ ';
      margin-left: calc(0px - ${je(r[4])});
      font-size: ${u.code.sizes[2].fontSize}px;
      line-height: ${u.code.sizes[2].lineHeight}px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: '▾ ';
      font-size: ${u.code.sizes[2].fontSize}px;
      line-height: ${u.code.sizes[2].lineHeight}px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: ${je(r[4]/2)};
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: ${e.syntax.property};
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: ${e.syntax.constant};
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: ${je(r[2])};
    }

    & .json-inspector .json-inspector__value_string {
      color: ${e.syntax.string};
      word-break: break-word;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: ${e.syntax.boolean};
    }

    & .json-inspector .json-inspector__value_number {
      color: ${e.syntax.number};
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '↔';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `}),$t=new xr({maxSize:5e4});function mu(t){const e=ce.c(7),{data:u,datasetName:r}=t,c=Ar();if(qu(u)||Array.isArray(u)){const n=c===r?Ni:void 0;let s;return e[0]!==u||e[1]!==n?(s=a.jsx(Ri,{children:a.jsx(mr,{data:u,search:!1,isExpanded:zi,onClick:Ii,interactiveLabel:n})}),e[0]=u,e[1]=n,e[2]=s):s=e[2],s}let i;e[3]!==u?(i=JSON.stringify(u),e[3]=u,e[4]=i):i=e[4];let o;return e[5]!==i?(o=a.jsx(ct,{language:"json",children:i}),e[5]=i,e[6]=o):o=e[6],o}function Ni(t){const e=ce.c(5);if(t.isKey||!t.keypath.endsWith("_id")&&!t.keypath.endsWith("_ref"))return null;let u;e[0]!==t.value?(u={id:t.value},e[0]=t.value,e[1]=u):u=e[1];let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=a.jsx(jr,{}),e[2]=r):r=e[2];let c;return e[3]!==u?(c=a.jsx(vr,{intent:"edit",params:u,children:r}),e[3]=u,e[4]=c):c=e[4],c}function zi(t,e){const u=$t.get(t);if(typeof u=="boolean")return u;const r=t.split(".",4);return r.length===4?!1:Array.isArray(e)?!0:qu(e)&&!r.some(c=>$i(c))}function Ii(t){const{path:e}=t,u=$t.get(e);u!==void 0&&$t.set(e,!u)}function qu(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}const ki=/^\d+$/;function $i(t,e=10){return ki.test(t)&&parseInt(t,10)>e}function Mi(t){return t.preventDefault()}function Ti(t){const e=ce.c(9),{blobUrl:u}=t,{t:r}=Me(Te),c=!u,i=c?void 0:"query-result.csv",o=c?Mi:void 0;let n;e[0]!==u||e[1]!==c||e[2]!==i||e[3]!==o?(n=a.jsx(Oe,{as:"a",disabled:c,download:i,href:u,icon:Su,mode:"ghost",onClick:o,text:"CSV",tone:"default"}),e[0]=u,e[1]=c,e[2]=i,e[3]=o,e[4]=n):n=e[4];const s=n;let f;return e[5]!==s||e[6]!==c||e[7]!==r?(f=c?a.jsx(tt,{content:r("result.save-result-as-csv.not-csv-encodable"),placement:"top",children:s}):s,e[5]=s,e[6]=c,e[7]=r,e[8]=f):f=e[8],f}function Li(t){const e=ce.c(2),{blobUrl:u}=t;let r;return e[0]!==u?(r=a.jsx(Oe,{as:"a",download:"query-result.json",href:u,icon:Su,mode:"ghost",text:"JSON",tone:"default"}),e[0]=u,e[1]=r):r=e[1],r}function Vi(t){const e=ce.c(67),{error:u,queryInProgress:r,queryResult:c,listenInProgress:i,listenMutations:o,dataset:n,queryTime:s,e2eTime:f}=t,{t:h}=Me(Te),d=!u&&!r&&typeof c<"u";let b;e[0]!==d||e[1]!==c?(b=d?Si(c):"",e[0]=d,e[1]=c,e[2]=b):b=e[2];const E=b;let g;e[3]!==d||e[4]!==c?(g=d?wi(c):"",e[3]=d,e[4]=c,e[5]=g):g=e[5];const l=g,x=u?"critical":"default",p=!!u;let y;e[6]!==h?(y=h("result.label"),e[6]=h,e[7]=y):y=e[7];let P;e[8]!==y?(P=a.jsx(Mu,{children:a.jsx(te,{marginLeft:3,children:a.jsx(ke,{muted:!0,children:y})})}),e[8]=y,e[9]=P):P=e[9];let _;e[10]!==i||e[11]!==o||e[12]!==r?(_=(r||i&&o.length===0)&&a.jsx(te,{marginTop:3,children:a.jsx(Nu,{})}),e[10]=i,e[11]=o,e[12]=r,e[13]=_):_=e[13];let w;e[14]!==u?(w=u&&a.jsx(Oi,{error:u}),e[14]=u,e[15]=w):w=e[15];let R;e[16]!==n||e[17]!==d||e[18]!==c?(R=d&&a.jsx(mu,{data:c,datasetName:n}),e[16]=n,e[17]=d,e[18]=c,e[19]=R):R=e[19];let k;e[20]!==n||e[21]!==i||e[22]!==o?(k=i&&o.length>0&&a.jsx(mu,{data:o,datasetName:n}),e[20]=n,e[21]=i,e[22]=o,e[23]=k):k=e[23];let q;e[24]!==k||e[25]!==_||e[26]!==w||e[27]!==R?(q=a.jsxs(te,{padding:3,paddingTop:5,children:[_,w,R,k]}),e[24]=k,e[25]=_,e[26]=w,e[27]=R,e[28]=q):q=e[28];let A;e[29]!==q||e[30]!==P?(A=a.jsxs(Gn,{overflow:"auto",children:[P,q]}),e[29]=q,e[30]=P,e[31]=A):A=e[31];let D;e[32]!==A||e[33]!==x||e[34]!==p?(D=a.jsx(Yn,{flex:1,children:a.jsx(Xn,{flex:1,overflow:"hidden",tone:x,$isInvalid:p,children:A})}),e[32]=A,e[33]=x,e[34]=p,e[35]=D):D=e[35];let v;e[36]===Symbol.for("react.memo_cache_sentinel")?(v=["column","column","row"],e[36]=v):v=e[36];let B;e[37]!==h?(B=h("result.execution-time-label"),e[37]=h,e[38]=B):B=e[38];let F;e[39]!==s||e[40]!==h?(F=typeof s=="number"?`${s}ms`:h("result.timing-not-applicable"),e[39]=s,e[40]=h,e[41]=F):F=e[41];let z;e[42]!==B||e[43]!==F?(z=a.jsx(te,{children:a.jsxs(ye,{muted:!0,children:[B,":"," ",F]})}),e[42]=B,e[43]=F,e[44]=z):z=e[44];let H;e[45]!==h?(H=h("result.end-to-end-time-label"),e[45]=h,e[46]=H):H=e[46];let T;e[47]!==f||e[48]!==h?(T=typeof f=="number"?`${f}ms`:h("result.timing-not-applicable"),e[47]=f,e[48]=h,e[49]=T):T=e[49];let ee;e[50]!==H||e[51]!==T?(ee=a.jsx(te,{marginLeft:4,children:a.jsxs(ye,{muted:!0,children:[H,":"," ",T]})}),e[50]=H,e[51]=T,e[52]=ee):ee=e[52];let W;e[53]!==z||e[54]!==ee?(W=a.jsx(ei,{paddingX:4,paddingY:3,sizing:"border",children:a.jsxs(ti,{align:"center",children:[z,ee]})}),e[53]=z,e[54]=ee,e[55]=W):W=e[55];let O;e[56]!==l||e[57]!==d||e[58]!==E||e[59]!==h?(O=d&&a.jsx(ui,{paddingX:4,paddingY:3,sizing:"border",children:a.jsx(ri,{muted:!0,children:a.jsx(bu,{components:{SaveResultButtons:()=>a.jsxs(a.Fragment,{children:[a.jsx(Li,{blobUrl:E}),a.jsx(Ti,{blobUrl:l})]})},i18nKey:"result.save-result-as-format",t:h})})}),e[56]=l,e[57]=d,e[58]=E,e[59]=h,e[60]=O):O=e[60];let re;e[61]!==W||e[62]!==O?(re=a.jsxs(Zn,{justify:"space-between",direction:v,children:[W,O]}),e[61]=W,e[62]=O,e[63]=re):re=e[63];let se;return e[64]!==D||e[65]!==re?(se=a.jsxs(Kn,{direction:"column","data-testid":"vision-result",children:[D,re]}),e[64]=D,e[65]=re,e[66]=se):se=e[66],se}function qi(t,e){return!t||!e?!1:t===e||!!(t.compareDocumentPosition(e)&16)}const Ji=/\.(?:api|apicdn)\.sanity\.(?:io|work)\/(vX|v1|v\d{4}-\d\d-\d\d)\/.*?(?:query|listen)\/(.*?)\?(.*)/,Ui=t=>Qt("ctrl+enter",t)||Qt("mod+enter",t);function Hi(t){const{datasets:e,config:u,projectId:r,defaultDataset:c}=t,i=yu(),{t:o}=Me(Te),{perspectiveStack:n}=vu(),s=Jn(`${u.defaultApiVersion}`),f=S.useRef(null),h=S.useRef(null),d=S.useRef(null),b=S.useRef(null),E=S.useRef(void 0),g=S.useRef(void 0),[l]=S.useState(()=>Ln(r||"default")),{storedDataset:x,storedApiVersion:p,storedQuery:y,storedParams:P,storedPerspective:_}=S.useMemo(()=>({storedDataset:l.get("dataset",c),storedApiVersion:l.get("apiVersion",s),storedQuery:l.get("query",""),storedParams:l.get("params",`{
  
}`),storedPerspective:l.get("perspective",void 0)}),[c,s,l]),[w,R]=S.useState(()=>e.includes(x)?x:e.includes(c)?c:e[0]),[k,q]=S.useState(()=>et.includes(p)?p:Ru),[A,D]=S.useState(()=>et.includes(p)?!1:p),[v,B]=S.useState(_||"raw"),F=A?_t(A):!0,[z,H]=S.useState(void 0),[T,ee]=S.useState(()=>typeof y=="string"?y:""),[W,O]=S.useState(()=>lt(P,o)),[re,se]=S.useState(void 0),[C,N]=S.useState([]),[$,K]=S.useState(void 0),[L,X]=S.useState(void 0),[J,Z]=S.useState(void 0),[oe,pe]=S.useState(!1),[Ce,xe]=S.useState(!1),[Le,Ve]=S.useState(!1),{paneSizeOptions:Y,isNarrowBreakpoint:Ae}=di({visionRootRef:d}),Ke=Mt({apiVersion:F&&A?A:k}),Pe=S.useMemo(()=>Ke.withConfig({apiVersion:F&&A?A:k,perspective:wt({visionPerspective:v,perspectiveStack:n}),dataset:w,allowReconfigure:!0}),[n,v,A,k,w,Ke,F]),Re=S.useCallback(()=>{E.current&&(E.current.unsubscribe(),E.current=void 0)},[]),De=S.useCallback(()=>{g.current&&(g.current.unsubscribe(),g.current=void 0)},[]),me=S.useCallback(j=>{if(oe){Re(),De(),pe(!1);return}const I={query:(j==null?void 0:j.query)||T,dataset:(j==null?void 0:j.dataset)||w,params:lt(JSON.stringify((j==null?void 0:j.params)||W.parsed,null,2),o),perspective:wt({visionPerspective:(j==null?void 0:j.perspective)||v,perspectiveStack:n}),apiVersion:(j==null?void 0:j.apiVersion)||(A&&F?A:k)};if(l.set("query",I.query),l.set("params",I.params.raw),De(),pe(!I.params.error&&!!I.query),xe(!1),N([]),K(I.params.error?new Error(I.params.error):void 0),se(void 0),X(void 0),Z(void 0),I.params.error)return;const de={perspective:I.perspective??[]},Qe=Pe.withConfig({apiVersion:I.apiVersion,dataset:I.dataset,perspective:I.perspective}),Ft=Qe.getUrl(Qe.getDataUrl("query",jt(I.query,I.params.parsed,de)));H(Ft);const At=Date.now();E.current=Qe.observable.fetch(I.query,I.params.parsed,{filterResponse:!1,tag:"vision"}).subscribe({next:Fe=>{X(Fe.ms),Z(Date.now()-At),se(Fe.result),pe(!1),K(void 0)},error:Fe=>{K(Fe),pe(!1)}})},[oe,T,w,W.parsed,o,v,n,A,F,k,l,De,Pe,Re]),dt=S.useCallback(j=>{j!==void 0&&!St(j)||(B(j),l.set("perspective",j),me({perspective:j}))},[l,me]),Ju=S.useCallback(j=>{const I=j.target.value;l.set("dataset",I),R(I),me({dataset:I})},[l,me]),Uu=S.useCallback(j=>{var de;const I=j.target.value;if((I==null?void 0:I.toLowerCase())==="other"){D("v"),(de=b.current)==null||de.focus();return}q(I),D(!1),l.set("apiVersion",I),me({apiVersion:I})},[l,me]),Hu=S.useCallback(j=>{const I=j.target.value||"";D(I||"v"),_t(I)&&(q(I),l.set("apiVersion",I),me({apiVersion:I}))},[l,me]),Wu=S.useCallback(j=>{const I=j.target.value;dt(I==="default"?void 0:I)},[dt]),Ut=S.useCallback(j=>{j.type==="mutation"&&N(I=>I.length===50?[j,...I.slice(0,49)]:[j,...I])},[]),Qu=S.useCallback(()=>{if(Ce){De(),xe(!1);return}const j=Pe.getDataUrl("listen",jt(T,W.parsed,{})),I=!W.error&&T.trim().length>0;l.set("query",T),l.set("params",W.raw),Re(),H(j),N([]),pe(!1),se(void 0),xe(I),K(W.error?new Error(W.error):void 0),X(void 0),Z(void 0),I&&(g.current=Pe.listen(T,W.parsed,{events:["mutation","welcome"],includeAllVersions:!0}).subscribe({next:Ut,error:de=>{K(de),xe(!1)}}))},[Ce,W,T,l,Re,Ut,De,Pe]),Ku=S.useCallback(j=>{O(j),l.set("params",j.raw)},[l]),ft=S.useCallback(j=>{const I=j.match(Ji);if(!I)return null;const[,de,Qe,Ft]=I,At=new URLSearchParams(Ft),Fe=qn(At);if(!Fe)return null;let Ht,mt;_t(de)&&(et.includes(de)?(Ht=de,mt=!1):mt=de);const Wt=St(Fe.options.perspective)&&!hu(Fe.options.perspective)?Fe.options.perspective:void 0;return Wt&&(!St(Fe.options.perspective)||hu(Fe.options.perspective))&&i.push({closable:!0,id:"vision-paste-unsupported-perspective",status:"warning",title:'Perspective in pasted url is currently not supported. Falling back to "raw"'}),{query:Fe.query,params:Fe.params,rawParams:JSON.stringify(Fe.params,null,2),dataset:e.includes(Qe)?Qe:w,apiVersion:Ht||k,customApiVersion:mt,perspective:Wt||v,url:j}},[e,w,k,v,i]),pt=S.useCallback(j=>{var I,de;R(j.dataset),ee(j.query),O({parsed:j.params,raw:j.rawParams,valid:!0,error:void 0}),q(j.apiVersion),j.customApiVersion&&D(j.customApiVersion),B(j.perspective),H(j.url),(I=f.current)==null||I.resetEditorContent(j.query),(de=h.current)==null||de.resetEditorContent(j.rawParams),l.merge({query:j.query,params:j.rawParams,dataset:j.dataset,apiVersion:j.customApiVersion||j.apiVersion,perspective:j.perspective}),me(j)},[l,me]),Ct=S.useCallback(j=>{if(!j.clipboardData)return;const I=j.clipboardData.getData("text/plain");j.preventDefault();const de=ft(I);de&&(pt(de),i.push({closable:!0,id:"vision-paste",status:"info",title:"Parsed URL to query"}))},[ft,pt,i]),ht=S.useCallback(j=>{const I=d.current&&qi(d.current,j.target);Ui(j)&&I&&W.valid&&(me(),j.preventDefault(),j.stopPropagation())},[W.valid,me]);S.useEffect(()=>(window.document.addEventListener("paste",Ct),window.document.addEventListener("keydown",ht),()=>{window.document.removeEventListener("paste",Ct),window.document.removeEventListener("keydown",ht)}),[ht,Ct]),S.useEffect(()=>()=>{Re(),De()},[Re,De]);const Yu=ir(j=>{j.length>0&&dt("pinnedRelease")});S.useEffect(()=>{Yu(n)},[n]);const Xu=S.useCallback((j,I)=>{const de={perspective:wt({visionPerspective:v,perspectiveStack:n})??[]};return Pe.getUrl(Pe.getDataUrl("query",jt(j,I,de)))},[Pe,v,n]);return a.jsxs($u,{direction:"column",height:"fill",ref:d,sizing:"border",overflow:"hidden","data-testid":"vision-root",children:[a.jsx(yi,{apiVersion:k,customApiVersion:A,dataset:w,datasets:e,onChangeDataset:Ju,onChangeApiVersion:Uu,customApiVersionElementRef:b,onCustomApiVersionChange:Hu,isValidApiVersion:F,onChangePerspective:Wu,url:z,perspective:v}),a.jsx(Wn,{flex:"auto",children:a.jsxs(vt,{minSize:800,defaultSize:window.innerWidth-275,size:Le?window.innerWidth:window.innerWidth-275,maxSize:-225,primary:"first",children:[a.jsx(te,{height:"stretch",flex:1,children:a.jsxs(vt,{className:"sidebarPanes",split:Ae?"vertical":"horizontal",minSize:300,children:[a.jsx(te,{height:"stretch",flex:1,children:a.jsxs(vt,{className:"sidebarPanes",split:"horizontal",defaultSize:Ae?Y.defaultSize:Y.minSize,size:Y.size,allowResize:Y.allowResize,minSize:Ae?Y.minSize:100,maxSize:Y.maxSize,primary:"first",children:[a.jsx(Au,{display:"flex","data-testid":"vision-query-editor",children:a.jsxs(te,{flex:1,children:[a.jsx(Tu,{children:a.jsx(ge,{children:a.jsx(ke,{muted:!0,children:o("query.label")})})}),a.jsx(qt,{initialValue:T,onChange:ee,ref:f})]})}),a.jsxs(Au,{display:"flex",children:[a.jsx(si,{value:W.raw,onChange:Ku,paramsError:W.error,hasValidParams:W.valid,editorRef:h}),a.jsx(Ci,{hasValidParams:W.valid,queryInProgress:oe,listenInProgress:Ce,onQueryExecution:me,onListenExecution:Qu})]})]})}),a.jsx(Vi,{error:$,queryInProgress:oe,queryResult:re,listenInProgress:Ce,listenMutations:C,dataset:w,queryTime:L,e2eTime:J})]})}),a.jsxs(te,{style:{position:"relative",height:"100%"},children:[a.jsx(Oe,{mode:"ghost",padding:2,style:{position:"absolute",left:-32,top:"50%",transform:"translateY(-50%)",zIndex:100,pointerEvents:"auto"},onClick:()=>Ve(!Le),children:a.jsx("div",{style:{display:"flex",alignItems:"center",height:"100%"},children:Le?a.jsx(sr,{}):a.jsx(ar,{})})}),a.jsx(Di,{url:z,getStateFromUrl:ft,setStateFromParsedUrl:pt,currentQuery:T,currentParams:W.parsed||{},generateUrl:Xu})]})]})})]})}function Wi(t){const e=ce.c(7),{client:u,datasets:r}=t;let c;e:{if(Array.isArray(r)){let o;e[0]!==r?(o=Eu(r),e[0]=r,e[1]=o):o=e[1],c=o;break e}let i;if(e[2]!==u.observable.datasets||e[3]!==r){let o;e[5]!==r?(o=n=>typeof r=="function"?r(n).map(Yi):n.map(Ki),e[5]=r,e[6]=o):o=e[6],i=u.observable.datasets.list().pipe(gu(o),ur(Qi)),e[2]=u.observable.datasets,e[3]=r,e[4]=i}else i=e[4];c=i}return rr(c,null)}function Qi(t){return Eu(t)}function Ki(t){return t.name}function Yi(t){return t.name}function Xi(t){const e=ce.c(19);let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u={apiVersion:"v2025-06-27"},e[0]=u):u=e[0];const r=Mt(u);let c;e[1]!==r||e[2]!==t.config.datasets?(c={client:r,datasets:t.config.datasets},e[1]=r,e[2]=t.config.datasets,e[3]=c):c=e[3];const i=Wi(c);if(!i){let E;return e[4]===Symbol.for("react.memo_cache_sentinel")?(E=a.jsx(ge,{align:"center",height:"fill",justify:"center",children:a.jsx(Nu,{})}),e[4]=E):E=e[4],E}let o;e[5]!==i||e[6]!==t.client?(o=i instanceof Error?[t.client.config().dataset||"production"]:i,e[5]=i,e[6]=t.client,e[7]=o):o=e[7];const n=o;let s;e[8]!==t.client?(s=t.client.config(),e[8]=t.client,e[9]=s):s=e[9];const f=s.projectId;let h;e[10]!==n||e[11]!==t.client||e[12]!==t.config.defaultDataset?(h=t.config.defaultDataset||t.client.config().dataset||n[0],e[10]=n,e[11]=t.client,e[12]=t.config.defaultDataset,e[13]=h):h=e[13];const d=h;let b;return e[14]!==n||e[15]!==d||e[16]!==f||e[17]!==t?(b=a.jsx(Hi,{...t,datasets:n,projectId:f,defaultDataset:d},f),e[14]=n,e[15]=d,e[16]=f,e[17]=t,e[18]=b):b=e[18],b}class Gi extends S.Component{constructor(u){super(u);Et(this,"handleRetryRender",()=>this.setState(u=>({error:null,numRetries:u.numRetries+1})));Et(this,"handleRetryWithCacheClear",()=>{Tn(),this.handleRetryRender()});this.state={error:null,numRetries:0}}static getDerivedStateFromError(u){return{error:u instanceof Error?u.message:`${u}`}}render(){if(!this.state.error)return this.props.children;const u=this.state.error,r=this.state.numRetries>0;return a.jsx(le,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:a.jsx(er,{width:3,children:a.jsxs(Ee,{space:4,children:[a.jsx("div",{children:a.jsx(Oe,{onClick:r?this.handleRetryWithCacheClear:this.handleRetryRender,text:r?"Clear cache and retry":"Retry",tone:"default"})}),a.jsx(tr,{children:"An error occurred"}),a.jsx(le,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:a.jsx(Ee,{space:4,children:u&&a.jsx(ct,{size:1,children:a.jsxs("strong",{children:["Error: ",u]})})})})]})})})}}function ns(t){const e=ce.c(6);let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u={apiVersion:"1"},e[0]=u):u=e[0];const r=Mt(u);let c;e[1]!==t.tool.options?(c={defaultApiVersion:Ru,...t.tool.options},e[1]=t.tool.options,e[2]=c):c=e[2];const i=c;let o;return e[3]!==r||e[4]!==i?(o=a.jsx(Gi,{children:a.jsx(Xi,{client:r,config:i})}),e[3]=r,e[4]=i,e[5]=o):o=e[5],o}export{ns as default};
